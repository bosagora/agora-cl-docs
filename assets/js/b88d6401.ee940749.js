"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7703],{4334:(e,t,a)=>{function n(e){var t,a,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(o&&(o+=" "),o+=a);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}a.d(t,{Z:()=>o});const o=function(){for(var e,t,a=0,o="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}},3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=d(a),m=o,g=p["".concat(s,".").concat(m)]||p[m]||u[m]||r;return a?n.createElement(g,l(l({ref:t},c),{},{components:a})):n.createElement(g,l({ref:t},c))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var d=2;d<r;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},1262:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),o=a(2263);const r=function(e){var t=e.children,a=e.fallback;return(0,o.Z)().isClient&&null!=t?n.createElement(n.Fragment,null,t()):a||null}},8215:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294);const o=function(e){var t=e.children,a=e.hidden,o=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:o},t)}},5064:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(7294),o=a(9443);const r=function(){var e=(0,n.useContext)(o.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e};var l=a(4334);const i="tabItem_vU9c",s="tabItemActive_cw6a";var d=37,c=39;const u=function(e){var t=e.lazy,a=e.block,o=e.defaultValue,u=e.values,p=e.groupId,m=e.className,g=r(),k=g.tabGroupChoices,h=g.setTabGroupChoices,v=(0,n.useState)(o),b=v[0],f=v[1],y=n.Children.toArray(e.children),w=[];if(null!=p){var N=k[p];null!=N&&N!==b&&u.some((function(e){return e.value===N}))&&f(N)}var T=function(e){var t=e.currentTarget,a=w.indexOf(t),n=u[a].value;f(n),null!=p&&(h(p,n),setTimeout((function(){var e,a,n,o,r,l,i,d;(e=t.getBoundingClientRect(),a=e.top,n=e.left,o=e.bottom,r=e.right,l=window,i=l.innerHeight,d=l.innerWidth,a>=0&&r<=d&&o<=i&&n>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s),setTimeout((function(){return t.classList.remove(s)}),2e3))}),150))},x=function(e){var t,a;switch(e.keyCode){case c:var n=w.indexOf(e.target)+1;a=w[n]||w[0];break;case d:var o=w.indexOf(e.target)-1;a=w[o]||w[w.length-1]}null==(t=a)||t.focus()};return n.createElement("div",{className:"tabs-container"},n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},m)},u.map((function(e){var t=e.value,a=e.label;return n.createElement("li",{role:"tab",tabIndex:b===t?0:-1,"aria-selected":b===t,className:(0,l.Z)("tabs__item",i,{"tabs__item--active":b===t}),key:t,ref:function(e){return w.push(e)},onKeyDown:x,onFocus:T,onClick:T},a)}))),t?(0,n.cloneElement)(y.filter((function(e){return e.props.value===b}))[0],{className:"margin-vert--md"}):n.createElement("div",{className:"margin-vert--md"},y.map((function(e,t){return(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==b})}))))}},9443:(e,t,a)=>{a.d(t,{Z:()=>n});const n=(0,a(7294).createContext)(void 0)},1144:(e,t,a)=>{a.d(t,{M:()=>r});var n=a(7294),o=a(1262),r=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),n.createElement(o.Z,null,(function(){return n.createElement("div",{class:"update-request"},n.createElement("a",{href:"https://https://github.com/zeroone-boa/agora-cl-docs/issues/new?title=Docs update request: "+new URL(window.location.href).pathname+"&body=Source: "+window.location.href+"%0A%0ARequest: (how can we help?)"},"\ud83d\udc3c Request an update"))}))}},3327:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>g,default:()=>b,frontMatter:()=>m,metadata:()=>k,toc:()=>h});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),l=a(5064),i=a(8215),s=a(610),d=a(9837),c=a(8250),u=a(1144),p=["components"],m={id:"install-with-docker",title:"Install Agora-cl with Docker",sidebar_label:"Install using Docker"},g=void 0,k={unversionedId:"install/install-with-docker",id:"install/install-with-docker",isDocsHomePage:!1,title:"Install Agora-cl with Docker",description:"Agora-cl can be installed on Windows, GNU/Linux, and MacOS systems with Docker. We use Bazel to push preconfigured Docker images to a publicly accessible Google Cloud container registry.",source:"@site/docs/install/install-with-docker.md",sourceDirName:"install",slug:"/install/install-with-docker",permalink:"/docs/install/install-with-docker",editUrl:"https://github.com/zeroone-boa/agora-cl-docs/edit/master/website/docs/install/install-with-docker.md",version:"current",frontMatter:{id:"install-with-docker",title:"Install Agora-cl with Docker",sidebar_label:"Install using Docker"},sidebar:"docs",previous:{title:"Troubleshooting",permalink:"/docs/troubleshooting/issues-errors"},next:{title:"Build from source",permalink:"/docs/install/install-with-bazel"}},h=[{value:"Review system requirements",id:"review-system-requirements",children:[]},{value:"Download the Agora-cl Docker images",id:"download-the-agora-cl-docker-images",children:[]},{value:"Configure ports (optional)",id:"configure-ports-optional",children:[]},{value:"Run a Agora node",id:"run-a-agora-node",children:[]},{value:"Run a validator",id:"run-a-validator",children:[{value:"Stake your BOA",id:"stake-your-boa",children:[]},{value:"Import keystores",id:"import-keystores",children:[]},{value:"Run validator",id:"run-validator",children:[]}]},{value:"Appendix A: Manage Agora-cl with Docker",id:"appendix-a-manage-agora-cl-with-docker",children:[]},{value:"Frequently asked questions",id:"frequently-asked-questions",children:[]}],v={toc:h};function b(e){var t=e.components,a=(0,o.Z)(e,p);return(0,r.kt)("wrapper",(0,n.Z)({},v,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Agora-cl can be installed on Windows, GNU/Linux, and MacOS systems with Docker. We use ",(0,r.kt)("a",{parentName:"p",href:"https://bazel.build"},"Bazel")," to push preconfigured Docker images to a publicly accessible Google Cloud container registry."),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Not familiar with Docker? Try our quickstart")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This guidance is targeted at users who are already comfortable with Docker. See our ",(0,r.kt)("a",{parentName:"p",href:"/docs/install/install-with-script"},"Quickstart")," for beginner-friendly installation instructions."))),(0,r.kt)("div",{class:"docker-guide"},(0,r.kt)("p",null,(0,r.kt)("strong",null,"Select a configuration"),":"),(0,r.kt)(s.ZP,{mdxType:"MultidimensionalContentControlsPartial"}),(0,r.kt)("h2",{id:"review-system-requirements"},"Review system requirements"),(0,r.kt)("table",null,(0,r.kt)("tr",null,(0,r.kt)("th",null,"Minimum"),(0,r.kt)("th",null,"Recommended")),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("strong",null,"OS"),": 64-bit Linux, Mac OS X 10.14+, Windows 64-bit"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"CPU"),": Intel Core i5\u2013760 or AMD FX-8100 or better"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"Memory"),": 8GB RAM"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"Storage"),": SSD with 20GB+ available"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"Internet"),": Broadband connection"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"Software"),": The latest release of ",(0,r.kt)("a",{href:"https://docs.docker.com/install/"},"Docker")," installed."))),(0,r.kt)("td",null,(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("strong",null,"CPU"),": Intel Core i7\u20134770 or AMD FX-8310 or better"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"Memory"),": 16GB RAM"),(0,r.kt)("li",null,(0,r.kt)("strong",null,"Storage"),": SSD with 100GB+ available"))))),(0,r.kt)("h2",{id:"download-the-agora-cl-docker-images"},"Download the Agora-cl Docker images"),(0,r.kt)("p",null,"First, ensure that you're running the most recent version of Docker:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker -v\n")),(0,r.kt)("p",null,"Next, pull the Agora-cl images:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"## stable, without Busybox debugging tools\ndocker pull bosagora/agora-cl-validator:stable\ndocker pull bosagora/agora-cl-node:stable\n\n## latest, without Busybox debugging tools\ndocker pull bosagora/agora-cl-validator:latest\ndocker pull bosagora/agora-cl-node:latest\n\n## latest, with Busybox debugging tools\ndocker pull bosagora/agora-cl-validator:latest-alpine\ndocker pull bosagora/agora-cl-node:latest-alpine\n")),(0,r.kt)("p",null,"These commands will automatically install dependencies."),(0,r.kt)("h2",{id:"configure-ports-optional"},"Configure ports (optional)"),(0,r.kt)("p",null,"We recommend opening up ports ",(0,r.kt)("inlineCode",{parentName:"p"},"tcp/13000")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"udp/12000")," on your router and firewall to improve peer-to-peer connectivity. Refer to your operating system and router documentation for port configuration instructions. With this complete, appending ",(0,r.kt)("inlineCode",{parentName:"p"},"--p2p-host-ip=$(curl -s ident.me)")," to your Agora node startup command will configure Agora-cl to use your newly opened ports. Refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/agora-cl-usage/p2p-host-ip"},"Configure ports and firewalls")," for more information."),(0,r.kt)("div",{class:"hide-tabs"},(0,r.kt)("h2",{id:"run-a-agora-node"},"Run a Agora node"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Knowledge Check")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("strong",{parentName:"p"},"Not familiar with nodes, networks, and related terminology?")," Consider reading ",(0,r.kt)("a",{parentName:"p",href:"/docs/concepts/nodes-networks"},"Nodes and networks")," before proceeding."))),(0,r.kt)("p",null,"If you're not already running an execution node, refer to our ",(0,r.kt)("a",{parentName:"p",href:"/docs/install/install-with-script"},"Quickstart")," for beginner-friendly execution node installation instructions."),(0,r.kt)("p",null,"Next, use Docker to tell your Agora node to connect to your local execution node. Note that ",(0,r.kt)("inlineCode",{parentName:"p"},"<YOUR_ETH_EXECUTION_NODE_ENDPOINT>")," is either an HTTP endpoint ",(0,r.kt)("inlineCode",{parentName:"p"},"http://host:port")," or an IPC path such as ",(0,r.kt)("inlineCode",{parentName:"p"},"/path/to/geth.ipc"),"."),(0,r.kt)(l.Z,{groupId:"os",defaultValue:"others",values:[{label:"Linux, MacOS, Arm64",value:"others"},{label:"Windows",value:"win"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"others",mdxType:"TabItem"},(0,r.kt)(l.Z,{groupId:"network",defaultValue:"mainnet",values:[{label:"Mainnet",value:"mainnet"},{label:"Testnet",value:"testnet"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"mainnet",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v $HOME/.eth2:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node \\\n  bosagora/agora-cl-node:stable \\\n  --datadir=/data \\\n  --jwt-secret=<YOUR_JWT_SECRET> \\\n  --rpc-host=0.0.0.0 \\\n  --grpc-gateway-host=0.0.0.0 \\\n  --monitoring-host=0.0.0.0 \\\n  --execution-endpoint=<YOUR_ETH_EXECUTION_NODE_ENDPOINT>\n"))),(0,r.kt)(i.Z,{value:"testnet",mdxType:"TabItem"},(0,r.kt)("p",null,"Download the Testnet genesis state from ",(0,r.kt)("a",{parentName:"p",href:"https://agora-testnet.s3.ap-southeast-1.amazonaws.com/testnet-genesis.ssz"},"Github")," to a local file. Then issue the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v $HOME/.eth2:/data -v /path/to/genesis.ssz:/genesis/genesis.ssz -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node \\\n  bosagora/agora-cl-node:stable \\\n  --datadir=/data \\\n  --jwt-secret=<YOUR_JWT_SECRET> \\\n  --rpc-host=0.0.0.0 \\\n  --grpc-gateway-host=0.0.0.0 \\\n  --monitoring-host=0.0.0.0 \\\n  --execution-endpoint=<YOUR_ETH_EXECUTION_NODE_ENDPOINT> \\\n  --genesis-state=/genesis/genesis.ssz \\\n  --testnet\n"))))),(0,r.kt)(i.Z,{value:"win",mdxType:"TabItem"},(0,r.kt)("p",null,"To ensure that your Docker image has access to a data directory, mount a local drive to your container. Right click your Docker tray icon -> ",(0,r.kt)("inlineCode",{parentName:"p"},"Settings")," -> ",(0,r.kt)("inlineCode",{parentName:"p"},"Shared Drives")," -> select your drive -> ",(0,r.kt)("inlineCode",{parentName:"p"},"Apply"),". Next, create a directory named ",(0,r.kt)("inlineCode",{parentName:"p"},"/agora-cl/")," within your shared drive. This folder will be used as a local data directory for Agora-cl. This guide assumes that ",(0,r.kt)("inlineCode",{parentName:"p"},"C:")," is the drive you've selected:"),(0,r.kt)(l.Z,{groupId:"network",defaultValue:"mainnet",values:[{label:"Mainnet",value:"mainnet"},{label:"Testnet",value:"testnet"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"mainnet",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v %LOCALAPPDATA%\\Agora:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp bosagora/agora-cl-node:stable --datadir=/data --jwt-secret=<YOUR_JWT_SECRET> --rpc-host=0.0.0.0 --grpc-gateway-host=0.0.0.0 --monitoring-host=0.0.0.0 --execution-endpoint=<YOUR_ETH_EXECUTION_NODE_ENDPOINT>\n"))),(0,r.kt)(i.Z,{value:"testnet",mdxType:"TabItem"},(0,r.kt)("p",null,"Download the Testnet genesis state from ",(0,r.kt)("a",{parentName:"p",href:"https://agora-testnet.s3.ap-southeast-1.amazonaws.com/testnet-genesis.ssz"},"Github")," to a local file. Then issue the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v %LOCALAPPDATA%\\Agora:/data -v \\path\\to\\genesis.ssz:/genesis/genesis.ssz -p 4000:4000 -p 13000:13000 -p 12000:12000/udp bosagora/agora-cl-node:stable --datadir=/data --jwt-secret=<YOUR_JWT_SECRET> --rpc-host=0.0.0.0 --grpc-gateway-host=0.0.0.0 --monitoring-host=0.0.0.0 --execution-endpoint=<YOUR_ETH_EXECUTION_NODE_ENDPOINT> --genesis-state=/genesis/genesis.ssz --testnet\n")))))),(0,r.kt)("h2",{id:"run-a-validator"},"Run a validator"),(0,r.kt)(d.ZP,{mdxType:"SingletonWarningPartial"}),(0,r.kt)(c.ZP,{mdxType:"FullSyncWarningPartial"}),(0,r.kt)("p",null,"Check the sync status of your node with the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"curl http://localhost:3500/eth/v1alpha1/node/syncing\n")),(0,r.kt)("p",null,"If your node is done synchronizing, you will see the response:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'{"syncing":false}%\n')),(0,r.kt)("h3",{id:"stake-your-boa"},"Stake your BOA"),(0,r.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Exercise caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"The Ethereum launchpad URL is ",(0,r.kt)("inlineCode",{parentName:"p"},"https://agora-staking.bosagora.org")," and the only, official validator deposit contract is ",(0,r.kt)("a",{parentName:"p",href:"https://https://www.boascan.io/0xXXX"},"0xXXX"),". Don't send BOA directly to the contract - deposit your stake through ",(0,r.kt)("a",{parentName:"p",href:"https://agora-staking.bosagora.org"},"Agora staking"),"."))),(0,r.kt)("p",null,"Use the ",(0,r.kt)("a",{parentName:"p",href:"https://agora-staking.bosagora.org"},"Mainnet Launchpad")," to deposit your 40,000 BOA. If you want to participate in the ",(0,r.kt)("strong",{parentName:"p"},"testnet"),", use the ",(0,r.kt)("a",{parentName:"p",href:"https://testnet-agora-staking.bosagora.org"},"Testnet"),"."),(0,r.kt)("p",null,"Throughout the process, you'll be asked to generate new validator credentials using the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zeroone-boa/agora-deposit-cli"},"Agora deposit command-line-tool"),". Make sure you use the ",(0,r.kt)("inlineCode",{parentName:"p"},"mainnet")," option when generating keys with the deposit CLI. During the process, you will have generated a ",(0,r.kt)("inlineCode",{parentName:"p"},"validator_keys")," folder under the ",(0,r.kt)("inlineCode",{parentName:"p"},"agora-deposit-cli")," directory. You can import all of your validator keys into Agora-cl from that folder in the next step."),(0,r.kt)("h3",{id:"import-keystores"},"Import keystores"),(0,r.kt)("p",null,"Copy the path to the ",(0,r.kt)("inlineCode",{parentName:"p"},"validator_keys")," folder under the ",(0,r.kt)("inlineCode",{parentName:"p"},"agora-deposit-cli")," directory you created during the launchpad process and issue the following command:"),(0,r.kt)(l.Z,{groupId:"os",defaultValue:"others",values:[{label:"Linux, MacOS, Arm64",value:"others"},{label:"Windows",value:"win"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"others",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v $HOME/agora-deposit-cli/validator_keys:/keys \\\n  -v $HOME/AgoraValidators/agora-cl-wallet-v2:/wallet \\\n  --name validator \\\n  --accept-terms-of-use \\\n  bosagora/agora-cl-validator:stable \\\n  accounts import --keys-dir=/keys --wallet-dir=/wallet\n"))),(0,r.kt)(i.Z,{value:"win",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v %LOCALAPPDATA%\\agora-deposit-cli\\validator_keys:/keys -v %LOCALAPPDATA%\\AgoraValidators\\agora-cl-wallet-v2:/wallet bosagora/agora-cl-validator:stable accounts import --keys-dir=/keys --wallet-dir=/wallet --accept-terms-of-use\n")))),(0,r.kt)("h3",{id:"run-validator"},"Run validator"),(0,r.kt)("p",null,"Open a second terminal window. Issue the following command to start the validator:"),(0,r.kt)(l.Z,{groupId:"os",defaultValue:"others",values:[{label:"Linux, MacOS, Arm64",value:"others"},{label:"Windows",value:"win"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"others",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'docker run -it -v $HOME/AgoraValidators/agora-cl-wallet-v2:/wallet \\\n  -v $HOME/Agora:/validatorDB \\\n  --network="host" --name validator \\\n  bosagora/agora-cl-validator:stable \\\n  --beacon-rpc-provider=127.0.0.1:4000 \\\n  --wallet-dir=/wallet \\\n  --datadir=/validatorDB\n'))),(0,r.kt)(i.Z,{value:"win",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'docker run -it -v %LOCALAPPDATA%\\AgoraValidators\\agora-cl-wallet-v2:/wallet -v %LOCALAPPDATA%\\Agora:/validatorDB --network="host" --name validator bosagora/agora-cl-validator:stable --beacon-rpc-provider=127.0.0.1:4000 --wallet-dir=/wallet --datadir=/validatorDB\n')))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Congratulations!")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You\u2019re now running a ",(0,r.kt)("strong",null,"full Agora node")," and a ",(0,r.kt)("strong",null,"validator"),"."))),(0,r.kt)("p",null,"It can take some time for your validator to become fully activated as there is a limit to how many can join each epoch. See ",(0,r.kt)("a",{parentName:"p",href:"/docs/monitoring/checking-status"},"Check node and validator status")," for detailed status monitoring guidance."),(0,r.kt)("p",null,"You can leave your ",(0,r.kt)("strong",{parentName:"p"},"execution client"),", ",(0,r.kt)("strong",{parentName:"p"},"Agora node"),", and ",(0,r.kt)("strong",{parentName:"p"},"validator client")," terminal windows open and running. Once your validator is activated, it will automatically begin proposing and validating blocks."),(0,r.kt)("h2",{id:"appendix-a-manage-agora-cl-with-docker"},"Appendix A: Manage Agora-cl with Docker"),(0,r.kt)("p",null,"To interact with your Agora node through Docker, use one of the following commands:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Halt: ",(0,r.kt)("inlineCode",{parentName:"li"},"docker stop agora-cl node")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"Ctrl+c")),(0,r.kt)("li",{parentName:"ul"},"Restart: ",(0,r.kt)("inlineCode",{parentName:"li"},"docker start -ai agora-cl node")),(0,r.kt)("li",{parentName:"ul"},"Delete: ",(0,r.kt)("inlineCode",{parentName:"li"},"docker rm agora-cl node"))),(0,r.kt)("p",null,"To recreate a deleted container and refresh the chain database, issue the start command with an additional ",(0,r.kt)("inlineCode",{parentName:"p"},"--clear-db")," parameter, where ",(0,r.kt)("inlineCode",{parentName:"p"},"<YOUR_ETH_EXECUTION_NODE_ENDPOINT>")," is in the format of an http endpoint such as ",(0,r.kt)("inlineCode",{parentName:"p"},"http://host:port")," (ex: ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8551")," for Geth) or an IPC path such as ",(0,r.kt)("inlineCode",{parentName:"p"},"/path/to/geth.ipc"),":"),(0,r.kt)(l.Z,{groupId:"os",defaultValue:"others",values:[{label:"Linux, MacOS, Arm64",value:"others"},{label:"Windows",value:"win"}],mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"others",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v $HOME/.eth2:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node \\\n  bosagora/agora-cl-node:latest \\\n  --datadir=/data \\\n  --clear-db \\\n  --rpc-host=0.0.0.0 \\\n  --monitoring-host=0.0.0.0 \\\n  --execution-endpoint=<YOUR_ETH_EXECUTION_NODE_ENDPOINT>\n"))),(0,r.kt)(i.Z,{value:"win",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"docker run -it -v %LOCALAPPDATA%\\Agora:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node bosagora/agora-cl-node:latest --datadir=/data --clear-db --monitoring-host=0.0.0.0 --rpc-host=0.0.0.0 --execution-endpoint=<YOUR_ETH_EXECUTION_NODE_ENDPOINT>\n")))))),(0,r.kt)("h2",{id:"frequently-asked-questions"},"Frequently asked questions"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Why do we set ",(0,r.kt)("inlineCode",{parentName:"strong"},"--rpc-host")," and ",(0,r.kt)("inlineCode",{parentName:"strong"},"--grpc-gateway-host")," to ",(0,r.kt)("inlineCode",{parentName:"strong"},"0.0.0.0"),"?")," ",(0,r.kt)("br",null),'\nThis tells your Docker container to to "listen" for connections from outside of your container, allowing you (and other services) to reach your RPC endpoint(s). See ',(0,r.kt)("a",{parentName:"p",href:"/docs/agora-cl-usage/p2p-host-ip"},"Configure ports and firewalls")," for more information."),(0,r.kt)(u.M,{mdxType:"RequestUpdateWidget"}))}b.isMDXComponent=!0},8250:(e,t,a)=>{a.d(t,{ZP:()=>s});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),l=["components"],i={toc:[]};function s(e){var t=e.components,a=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{class:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{class:"admonition-content"},(0,r.kt)("p",null,"Verify that your ",(0,r.kt)("strong",null,"Agora node and execution node are both fully synced"),". If you're not fully synced, you risk being penalized and losing some of your staked BOA."))))}s.isMDXComponent=!0},610:(e,t,a)=>{a.d(t,{ZP:()=>m});var n=a(7462),o=a(3366),r=a(7294),l=a(3905),i=a(5064),s=a(8215),d=a(1262),c=function(){var e=function(){return document.querySelectorAll(".quickstart-tabs .tabs__item")},t=function(t){var a;return e().forEach((function(e){e.innerHTML==t&&(a=e)})),a},a=function(e){t(e).classList.add("disabled-tab")},n=function(e){console.log("selecting "+e+"..."),t(e).click()},o=function(e){return t(e).classList.contains("tabs__item--active")},l=function(){return window.location.href.indexOf("/authentication")>-1},i=function(){var e,t,a,n;e=o("Windows")?"Windows":"Linux, MacOS, Arm64",o("Mainnet")?t="Mainnet":o("Testnet")&&(t="Testnet"),o("Agora-el")&&(a="Agora-el"),n=o("IPC")?"IPC":"HTTP-JWT";var r=document.querySelector(".quickstart-tabs");r.dataset.selectedOS=e,r.dataset.selectedNetwork=t,r.dataset.selectedEL=a,r.dataset.selectedENBN=n},s=function(){setTimeout((function(){l()&&(setTimeout((function(){n("HTTP-JWT"),i()}),50),a("IPC")),e().forEach((function(e){e.textContent.indexOf(":")>-1?e.outerHTML=e.outerHTML:e.addEventListener("click",(function(e){var o=e.target,r=o.textContent;"Agora-el"==r?t("IPC").classList.remove("disabled-tab"):"IPC"==r&&(l()?(setTimeout((function(){n("HTTP-JWT")}),50),a("IPC")):n("Agora-el")),function(e){var t=e.parentElement;t.classList.remove("updated"),t.classList.add("updated"),setTimeout((function(){t.classList.remove("updated")}),2e3)}(o),i()}),!1)})),i()}),100)};return r.createElement(d.Z,null,(function(){s()}))},u=["components"],p={toc:[]};function m(e){var t=e.components,a=(0,o.Z)(e,u);return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)(c,{mdxType:"MultiDimensionalContentWidget"}),(0,l.kt)("div",{class:"quickstart-tabs"},(0,l.kt)(i.Z,{className:"tabgroup-with-label os-tabgroup",groupId:"os",defaultValue:"others",values:[{label:"Operating system:",value:"label"},{label:"Linux, MacOS, Arm64",value:"others"},{label:"Windows",value:"win"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{className:"unclickable-element",value:"label",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"others",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"win",mdxType:"TabItem"})),(0,l.kt)(i.Z,{className:"tabgroup-with-label network-tabgroup",groupId:"network",defaultValue:"mainnet",values:[{label:"Network:",value:"label"},{label:"Mainnet",value:"mainnet"},{label:"Testnet",value:"testnet"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{className:"unclickable-element",value:"label",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"mainnet",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"testnet",mdxType:"TabItem"})),(0,l.kt)(i.Z,{className:"tabgroup-with-label hidden-in-docker-guide el-tabgroup",groupId:"execution-clients",defaultValue:"geth",values:[{label:"Execution client:",value:"label"},{label:"Agora-el",value:"agora-el"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{className:"unclickable-element",value:"label",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"agora-el",mdxType:"TabItem"})),(0,l.kt)(i.Z,{className:"tabgroup-with-label hidden-in-jwt-guide hidden-in-docker-guide enbn-tabgroup",groupId:"protocol",defaultValue:"jwt",values:[{label:"EN-BN connection:",value:"label"},{label:"HTTP-JWT",value:"jwt"},{label:"IPC",value:"ipc"}],mdxType:"Tabs"},(0,l.kt)(s.Z,{className:"unclickable-element",value:"label",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"jwt",mdxType:"TabItem"}),(0,l.kt)(s.Z,{value:"ipc",mdxType:"TabItem"}))))}m.isMDXComponent=!0},9837:(e,t,a)=>{a.d(t,{ZP:()=>s});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),l=["components"],i={toc:[]};function s(e){var t=e.components,a=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{class:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{class:"admonition-content"},(0,r.kt)("p",null,(0,r.kt)("strong",null,"Ensure that you're not running multiple instances of the same validator public key"),", especially if you're using scripts or other forms of automation. If the Ethereum network detects two instances of the same validator key submitting proposals, attestations, or votes, it may assume malicious intent and slash accordingly."))))}s.isMDXComponent=!0}}]);