"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2331],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>p});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=c(n),p=r,g=m["".concat(l,".").concat(p)]||m[p]||d[p]||o;return n?a.createElement(g,i(i({ref:t},u),{},{components:n})):a.createElement(g,i({ref:t},u))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1262:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),r=n(2263);const o=function(e){var t=e.children,n=e.fallback;return(0,r.Z)().isClient&&null!=t?a.createElement(a.Fragment,null,t()):n||null}},5505:(e,t,n)=>{n.d(t,{M:()=>o});var a=n(7294),r=n(1262),o=function(e){var t=e.commaDelimitedContributors,n=e.lastVerifiedDateString,o=e.lastVerifiedVersionString,i={Chris:"hewison-chris"},s=function(e){return a.createElement("a",{class:"header-badge",href:"https://github.com/"+i[e]},a.createElement("span",{class:"badge-avatar",style:{backgroundImage:"url('https://avatars.githubusercontent.com/"+i[e]+"')"}}),a.createElement("span",{class:"badge-label"},e))};return a.createElement(r.Z,null,(function(){return a.createElement("div",{class:"header-badges"},null!=t?t.split(",").map(s):null,function(e,t){if(null!=e&&null!=t)return a.createElement("a",{class:"header-badge"},a.createElement("span",{class:"badge-avatar emoji-avatar"},"\u2714\ufe0f"),a.createElement("span",{class:"badge-label"},"Last verified on ",a.createElement("strong",null,e)," using Agora-cl ",t))}(n,o),a.createElement("a",{class:"header-badge",href:"https://github.com/Bosagora/documentation/issues/new?title=Docs update request: "+new URL(window.location.href).pathname+"&body=Source: "+window.location.href+"%0A%0ARequest: (how can we help?)"},a.createElement("span",{class:"badge-avatar emoji-avatar"},"\u270f\ufe0f"),a.createElement("span",{class:"badge-label"},"Request an update")))}))}},1144:(e,t,n)=>{n.d(t,{M:()=>o});var a=n(7294),r=n(1262),o=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),a.createElement(r.Z,null,(function(){return a.createElement("div",{class:"update-request"},a.createElement("a",{href:"https://https://github.com/zeroone-boa/agora-cl-docs/issues/new?title=Docs update request: "+new URL(window.location.href).pathname+"&body=Source: "+window.location.href+"%0A%0ARequest: (how can we help?)"},"\ud83d\udc3c Request an update"))}))}},8156:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>u,default:()=>g,frontMatter:()=>c,metadata:()=>d,toc:()=>m});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=n(5505),s=n(1144),l=["components"],c={id:"maintaining-uptime",title:"Maintain validator uptime with systemd or Docker",sidebar_label:"Maintain validator uptime with systemd or Docker"},u=void 0,d={unversionedId:"advanced/maintaining-uptime",id:"advanced/maintaining-uptime",isDocsHomePage:!1,title:"Maintain validator uptime with systemd or Docker",description:"Validators should be online as much as possible. If you're running your validator on a cloud server, or if you want your validator to automatically start running when the host machine restarts, consider running your client software as a background service through either Docker or systemd.",source:"@site/docs/advanced/maintaining-uptime.md",sourceDirName:"advanced",slug:"/advanced/maintaining-uptime",permalink:"/docs/advanced/maintaining-uptime",editUrl:"https://github.com/zeroone-boa/agora-cl-docs/edit/master/website/docs/advanced/maintaining-uptime.md",version:"current",frontMatter:{id:"maintaining-uptime",title:"Maintain validator uptime with systemd or Docker",sidebar_label:"Maintain validator uptime with systemd or Docker"},sidebar:"docs",previous:{title:"Import keys into a Agora-cl wallet",permalink:"/docs/wallet/nondeterministic"},next:{title:"Use Web3Signer",permalink:"/docs/wallet/web3signer"}},m=[{value:"Docker",id:"docker",children:[]},{value:"Systemd (Linux)",id:"systemd-linux",children:[]}],p={toc:m};function g(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(i.M,{mdxType:"HeaderBadgesWidget"}),(0,o.kt)("p",null,"Validators should be online as much as possible. If you're running your validator on a cloud server, or if you want your validator to automatically start running when the host machine restarts, consider running your client software as a background service through either Docker or systemd."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This may be overkill for at-home stakers who use the ",(0,o.kt)("inlineCode",{parentName:"p"},"agora-cl.sh")," script to run Agora-cl. To those users, we recommend ",(0,o.kt)("strong",{parentName:"p"},"keeping it simple")," by occasionally checking the status of your validator. See ",(0,o.kt)("a",{parentName:"p",href:"../monitoring/checking-status"},"Check Software Status")," to learn more."))),(0,o.kt)("h3",{id:"docker"},"Docker"),(0,o.kt)("p",null,"You can use Docker to run your Agora node and validators as background services. See ",(0,o.kt)("a",{parentName:"p",href:"../install/install-with-docker"},"Install with Docker"),". You can monitor and view your running Docker containers using ",(0,o.kt)("inlineCode",{parentName:"p"},"docker ps"),"."),(0,o.kt)("h3",{id:"systemd-linux"},"Systemd (Linux)"),(0,o.kt)("p",null,"Linux systems allow for easy running of services in the background through a daemon process called ",(0,o.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/systemd-essentials-working-with-services-units-and-the-journal"},"systemd"),". You can follow the tutorial posted by ",(0,o.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/systemd-essentials-working-with-services-units-and-the-journal"},"Digital Ocean")," on setting up systemd services."),(0,o.kt)("p",null,"You can run your Agora node with the following systemd configuration, where you can modify some of the fields and flags to your liking. Assuming your agora-cl.sh script is at ",(0,o.kt)("inlineCode",{parentName:"p"},"/home/agora-cl/agora-cl.sh"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"[Unit]\nDescription=Agora-cl Beacon chain daemon\nAfter=network-online.target\n\n[Service]\nExecStart=/home/agora-cl/agora-cl.sh beacon-chain\nRestart=on-failure\nUser=YOUR_USER\n\n[Install]\nWantedBy=default.target\n")),(0,o.kt)("p",null,"You can also run your validator client in systemd using the following configuration."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"[Unit]\nDescription=Agora-cl Validator daemon\nAfter=network-online.target\nWants=agora-cl-beacon.service\n\n[Service]\nExecStart=/home/agora-cl/agora-cl.sh validator --wallet-dir DIR/TO/agora-cl-wallet-v2 --wallet-password-file DIR/TO/YOUR_PASSWORDFILE --graffiti YOUR_GRAFFITI\nRestart=on-failure\nUser=YOUR_USER\n\n[Install]\nWantedBy=default.target\n")),(0,o.kt)(s.M,{mdxType:"RequestUpdateWidget"}))}g.isMDXComponent=!0}}]);