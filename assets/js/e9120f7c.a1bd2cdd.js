"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6170],{3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>p});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},h=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,h=i(e,["components","mdxType","originalType","parentName"]),u=c(a),p=r,m=u["".concat(l,".").concat(p)]||u[p]||d[p]||o;return a?n.createElement(m,s(s({ref:t},h),{},{components:a})):n.createElement(m,s({ref:t},h))}));function p(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var c=2;c<o;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1262:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(2263);const o=function(e){var t=e.children,a=e.fallback;return(0,r.Z)().isClient&&null!=t?n.createElement(n.Fragment,null,t()):a||null}},5505:(e,t,a)=>{a.d(t,{M:()=>o});var n=a(7294),r=a(1262),o=function(e){var t=e.commaDelimitedContributors,a=e.lastVerifiedDateString,o=e.lastVerifiedVersionString,s={Chris:"hewison-chris"},i=function(e){return n.createElement("a",{class:"header-badge",href:"https://github.com/"+s[e]},n.createElement("span",{class:"badge-avatar",style:{backgroundImage:"url('https://avatars.githubusercontent.com/"+s[e]+"')"}}),n.createElement("span",{class:"badge-label"},e))};return n.createElement(r.Z,null,(function(){return n.createElement("div",{class:"header-badges"},null!=t?t.split(",").map(i):null,function(e,t){if(null!=e&&null!=t)return n.createElement("a",{class:"header-badge"},n.createElement("span",{class:"badge-avatar emoji-avatar"},"\u2714\ufe0f"),n.createElement("span",{class:"badge-label"},"Last verified on ",n.createElement("strong",null,e)," using Agora-cl ",t))}(a,o),n.createElement("a",{class:"header-badge",href:"https://github.com/Bosagora/documentation/issues/new?title=Docs update request: "+new URL(window.location.href).pathname+"&body=Source: "+window.location.href+"%0A%0ARequest: (how can we help?)"},n.createElement("span",{class:"badge-avatar emoji-avatar"},"\u270f\ufe0f"),n.createElement("span",{class:"badge-label"},"Request an update")))}))}},1144:(e,t,a)=>{a.d(t,{M:()=>o});var n=a(7294),r=a(1262),o=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),n.createElement(r.Z,null,(function(){return n.createElement("div",{class:"update-request"},n.createElement("a",{href:"https://https://github.com/zeroone-boa/agora-cl-docs/issues/new?title=Docs update request: "+new URL(window.location.href).pathname+"&body=Source: "+window.location.href+"%0A%0ARequest: (how can we help?)"},"\ud83d\udc3c Request an update"))}))}},7382:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>h,default:()=>m,frontMatter:()=>c,metadata:()=>d,toc:()=>u});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),s=a(5505),i=a(1144),l=["components"],c={id:"slasher",title:"Run a slasher",sidebar_label:"Run a slasher"},h=void 0,d={unversionedId:"agora-cl-usage/slasher",id:"agora-cl-usage/slasher",isDocsHomePage:!1,title:"Run a slasher",description:"This section provides instructions on how to run slasher as an optional process to report slashable offenses on Ethereum proof-of-stake.  If slasher detects a slashable offense, proof is sent to the beacon-chain node for inclusion in a block.  Validators earn a small whistleblower reward for including this proof into a block.",source:"@site/docs/agora-cl-usage/slasher.md",sourceDirName:"agora-cl-usage",slug:"/agora-cl-usage/slasher",permalink:"/docs/agora-cl-usage/slasher",editUrl:"https://github.com/zeroone-boa/agora-cl-docs/edit/master/website/docs/agora-cl-usage/slasher.md",version:"current",frontMatter:{id:"slasher",title:"Run a slasher",sidebar_label:"Run a slasher"},sidebar:"docs",previous:{title:"Sync from a checkpoint",permalink:"/docs/agora-cl-usage/checkpoint-sync"},next:{title:"Run an archival node",permalink:"/docs/advanced/agora-cl_node_api"}},u=[{value:"System requirements",id:"system-requirements",children:[{value:"Minimum specifications",id:"minimum-specifications",children:[]},{value:"Recommended specifications",id:"recommended-specifications",children:[]}]},{value:"What is Slashing",id:"what-is-slashing",children:[]},{value:"What is a Slasher",id:"what-is-a-slasher",children:[]},{value:"Running Slasher",id:"running-slasher",children:[{value:"Whistleblower Rewards",id:"whistleblower-rewards",children:[]},{value:"Who Should Run a Slasher",id:"who-should-run-a-slasher",children:[]}]},{value:"Using Slasher for Advanced Slashing Protection",id:"using-slasher-for-advanced-slashing-protection",children:[]},{value:"Further Reading",id:"further-reading",children:[]}],p={toc:u};function m(e){var t=e.components,a=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(s.M,{mdxType:"HeaderBadgesWidget"}),(0,o.kt)("p",null,"This section provides instructions on how to run ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/zeroone-boa/agora-cl/tree/master/slasher"},"slasher")," as an ",(0,o.kt)("strong",{parentName:"p"},"optional")," process to report slashable offenses on Ethereum proof-of-stake.  If slasher detects a slashable offense, proof is sent to the ","[beacon-chain node]","(/docs/how-agora-cl-works/agora-cl node/) for inclusion in a block.  ",(0,o.kt)("a",{parentName:"p",href:"/docs/how-agora-cl-works/agora-cl-validator-client/"},"Validators")," earn a small whistleblower reward for including this proof into a block."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Slasher Requires Significant Disk Space")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Slasher is essentially a Agora node with ",(0,o.kt)("strong",{parentName:"p"},"superpowers"),". It uses significantly more disk space when running on mainnet."))),(0,o.kt)("h2",{id:"system-requirements"},"System requirements"),(0,o.kt)("h3",{id:"minimum-specifications"},"Minimum specifications"),(0,o.kt)("p",null,"These specifications must be met in order to successfully run a Agora-cl Agora node in ",(0,o.kt)("inlineCode",{parentName:"p"},"--slasher")," mode"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Operating System: 64-bit Linux, Mac OS X 10.14+, Windows 64-bit"),(0,o.kt)("li",{parentName:"ul"},"Processor: Intel Core i5\u2013760 or AMD FX-8100 or better"),(0,o.kt)("li",{parentName:"ul"},"Memory: 8GB RAM"),(0,o.kt)("li",{parentName:"ul"},"Storage: 1TB available space SSD"),(0,o.kt)("li",{parentName:"ul"},"Internet: Broadband connection")),(0,o.kt)("h3",{id:"recommended-specifications"},"Recommended specifications"),(0,o.kt)("p",null,"These hardware specifications are recommended, but not required to run the Agora-cl client."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Processor: Intel Core i7\u20134770 or AMD FX-8310 or better"),(0,o.kt)("li",{parentName:"ul"},"Memory: 16GB RAM"),(0,o.kt)("li",{parentName:"ul"},"Storage: 1TB available space SSD"),(0,o.kt)("li",{parentName:"ul"},"Internet: Broadband connection")),(0,o.kt)("h2",{id:"what-is-slashing"},"What is Slashing"),(0,o.kt)("p",null,"Slashing occurs when there is evidence a validator has acted against the Ethereum network. Ethereum proof of stake works on a penalty-based incentive mechanism to heavily discourage actions on the network that could cause instability, malicious forking and conflicting information from validators. Slashing does not need to have been the result of malicious intent, it could also happen accidentally via misconfiguration. If a validator acts in a way that can confuse or disrupt the integrity of the system, the protocol removes, or ",(0,o.kt)("strong",{parentName:"p"},"slashes"),", a portion of the offending validator's existing stake, causing a gradual loss of BOA over time until the validator is forcefully ejected from the network and marked as SLASHED. This is an ",(0,o.kt)("strong",{parentName:"p"},"irreversible")," process."),(0,o.kt)("p",null,"The main purpose of slashing is to discourage attacks against the Ethereum proof-of-stake network that might otherwise be cheap to perform such as trivially creating conflicting forks where validators attest on a different view of historical checkpoints."),(0,o.kt)("p",null,"A validator that correctly follows the protocol should never emit a slashable vote during normal operation. Validators will not be slashed for simply being offline (",(0,o.kt)("em",{parentName:"p"},"however, they may be penalized"),")."),(0,o.kt)("h2",{id:"what-is-a-slasher"},"What is a Slasher"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Slasher")," is the name of software that can detect slashable events from validators and report them to the protocol. You can think of a slasher as the network \u201cpolice\u201d. Running a slasher is ",(0,o.kt)("strong",{parentName:"p"},"optional"),". In order to detect slashable messages, the slasher records the attesting and proposing history for every validator on the network, then cross references this history with what has been broadcasted to find slashable messages such as double blocks or surrounding votes."),(0,o.kt)("p",null,"In theory all the network needs is ",(0,o.kt)("em",{parentName:"p"},"1 honest, properly functioning slasher")," to monitor the network because any slashings found are propagated to the entire network for it to be put into a block as soon as possible."),(0,o.kt)("p",null,"Running a slasher is not meant to be profitable. Slashing is meant to be rare and whistleblower rewards are purposefully low.  Running a slasher is meant to be an ",(0,o.kt)("em",{parentName:"p"},"altruistic action"),", and as stated, only a single, honest, properly functioning slasher needs to be active in the network to catch slashable offenses. Thankfully, this is a low bar to entry, and we envision quite a lot of users and entities will run slashers to ensure network security."),(0,o.kt)("h2",{id:"running-slasher"},"Running Slasher"),(0,o.kt)("p",null,"Running a slasher is as simple as adding the ",(0,o.kt)("inlineCode",{parentName:"p"},"--slasher")," flag to your ",(0,o.kt)("strong",{parentName:"p"},"Agora node"),". Doing this will enable your Agora node to perform slashing detection. However, ",(0,o.kt)("strong",{parentName:"p"},"home stakers are advised ",(0,o.kt)("em",{parentName:"strong"},"not")," to run a slasher on personal hardware,")," as it is a tremendously resource-hungry process. Slasher is very heavy on database access and disk usage, and the ",(0,o.kt)("inlineCode",{parentName:"p"},"slasher.db")," will quickly grow to 1TB or more when running on mainnet. Given that slasher needs to store a lot of information about attestations and blocks within the network, this is to be expected."),(0,o.kt)("h3",{id:"whistleblower-rewards"},"Whistleblower Rewards"),(0,o.kt)("p",null,"Running a slasher can also offer some profits to your validators given certain conditions. If slasher detects a slashable condition, it will ",(0,o.kt)("strong",{parentName:"p"},"broadcast it to the network by default"),". Some lucky validator will then package this slashing evidence into a block and be rewarded for doing so. You can ",(0,o.kt)("strong",{parentName:"p"},"disable")," this broadcast in Agora-cl using the ",(0,o.kt)("inlineCode",{parentName:"p"},"--disable-broadcast-slashings")," option in your ",(0,o.kt)("strong",{parentName:"p"},"Agora node"),"."),(0,o.kt)("h3",{id:"who-should-run-a-slasher"},"Who Should Run a Slasher"),(0,o.kt)("p",null,"As summarized above, the slasher process is likely to overwhelm most home validator setups. The incentives for running a slasher accumulate irregularly, at great cost, so home stakers are advised to run their Agora node without it. It is an entirely optional process. Beacon node operators should consider running the slasher if they are operating a ",(0,o.kt)("strong",{parentName:"p"},"staking pool")," or ",(0,o.kt)("strong",{parentName:"p"},"data center"),"."),(0,o.kt)("h2",{id:"using-slasher-for-advanced-slashing-protection"},"Using Slasher for Advanced Slashing Protection"),(0,o.kt)("p",null,"An alternative implementation for slashing prevention is the use of slasher itself as a middleware client between your Agora node and validator client. Before a validator client submits a block or an attestation, it asks the slasher if the object is slashable. If the check passes, the data will go through to the Agora node. This is the most advanced form of slashing protection as slasher is, ideally, aware of everything happening in the network and has a recorded history of blocks and attestations for every validator."),(0,o.kt)("h2",{id:"further-reading"},"Further Reading"),(0,o.kt)("p",null,"We recommend reading our piece on ",(0,o.kt)("a",{parentName:"p",href:"https://medium.com/prysmatic-labs/eth2-slashing-prevention-tips-f6faa5025f50"},"slashing prevention tips")," which has more detailed information on how to protect your own validator from being slashed, the document also clarifies a number of common misconceptions."),(0,o.kt)(i.M,{mdxType:"RequestUpdateWidget"}))}m.isMDXComponent=!0}}]);