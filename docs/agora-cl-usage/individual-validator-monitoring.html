<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-139640266-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Agora-cl" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Monitor validators by index | Agora-cl</title><meta data-react-helmet="true" property="og:url" content="https://agora-cl-docs.bosagora.io/docs/agora-cl-usage/individual-validator-monitoring"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Monitor validators by index | Agora-cl"><meta data-react-helmet="true" name="description" content="Agora-cl beacon nodes allow for monitoring of specific validator indices by tracking important metrics on the blockchain, including details about their rewards, attestation performance, sync committee participation, and more."><meta data-react-helmet="true" property="og:description" content="Agora-cl beacon nodes allow for monitoring of specific validator indices by tracking important metrics on the blockchain, including details about their rewards, attestation performance, sync committee participation, and more."><link data-react-helmet="true" rel="shortcut icon" href="/img/bosagora-logo.png"><link data-react-helmet="true" rel="canonical" href="https://agora-cl-docs.bosagora.io/docs/agora-cl-usage/individual-validator-monitoring"><link data-react-helmet="true" rel="alternate" href="https://agora-cl-docs.bosagora.io/docs/agora-cl-usage/individual-validator-monitoring" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://agora-cl-docs.bosagora.io/docs/agora-cl-usage/individual-validator-monitoring" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d023a482.css">
<link rel="preload" href="/assets/js/runtime~main.fbada0f2.js" as="script">
<link rel="preload" href="/assets/js/main.f24723cf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/getting-started"><img src="/img/bosagora-logo.png" alt="logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/bosagora-logo.png" alt="logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Agora-cl Documentation</b></a><a href="https://github.com/zeroone-boa/agora-cl/releases/tag/v3.1.1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">agora_v3.1.1</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/install/install-with-script">Quick Install</a><a href="https://github.com/zeroone-boa/agora-cl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://t.me/bosagora_eng" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_fBfG"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Table of contents</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/install/install-with-script">Quickstart: Run a node</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/prepare-for-merge">Prepare for The Merge</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-best-practices">Security best practices</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/agora-cl-usage/parameters">Command-line options</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/monitoring/checking-status">Check node and validator status</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting/issues-errors">Troubleshooting</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced installation guides</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">How-tos</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/execution-node/fee-recipient">Configure Fee Recipient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/execution-node/authentication">Configure JWT authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/execution-node/configuring-for-agora-cl">Configure execution node</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/agora-cl-usage/staying-up-to-date">Stay up to date</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/agora-cl-usage/checkpoint-sync">Sync from a checkpoint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/agora-cl-usage/slasher">Run a slasher</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/agora-cl_node_api">Run an archival node</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Backups and migrations</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Validator and wallet management</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Monitoring, metrics, and alerts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/monitoring/is-everything-fine">Monitor Agora-cl for expected behavior</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/agora-cl-usage/individual-validator-monitoring">Monitor validators by index</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/agora-cl-usage/monitoring/grafana-dashboard">Configure dashboarding and alerts with Prometheus and Grafana</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/agora-cl-usage/client-stats">Collect metrics with client-stats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/agora-cl-usage/web-interface">Use Agora-cl&#x27;s web UI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Managing connections</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developer wiki</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Misc</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">Frequently asked questions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/terminology">Glossary</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_dC7a">Monitor validators by index</h1></header><p>Agora-cl beacon nodes allow for monitoring of specific validator indices by tracking important metrics on the blockchain, including details about their rewards, attestation performance, sync committee participation, and more.</p><p>The Agora node takes a flag <code>--monitor-indices</code> that takes as parameter a validator index. This flag can be used multiple times. For example, to track validators 1, 2, 12, and 15, you can run with</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">beacon-chain --monitor-indices </span><span class="token number">1</span><span class="token plain"> --monitor-indices </span><span class="token number">2</span><span class="token plain"> --monitor-indices </span><span class="token number">12</span><span class="token plain"> --monitor-indices </span><span class="token number">15</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You should see a message like the following in your logs at launch</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Starting service&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndices</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;[1 2 12 15]&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You can track any validators, not only yours. In fact, you don&#x27;t even need to be running a validator client to be able to track validators. So you can keep a staking computer with the Agora node and a validator securely isolated, and use a different computer running a Agora node for performance tracking.</p><p>The monitor emits both logs and metrics when it receives information about some event involving the tracked validators.</p><header><h1 class="h1Heading_dC7a">Available monitoring</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="attestations-included-in-blocks"></a>Attestations included in blocks<a class="hash-link" href="#attestations-included-in-blocks" title="Direct link to heading">#</a></h2><p>This is the log that most users will want to keep track, the typical log reads as follows</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Attestation included&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BalanceChange</span><span class="token operator">=</span><span class="token number">12652</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CorrectHead</span><span class="token operator">=</span><span class="token plain">true </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CorrectSource</span><span class="token operator">=</span><span class="token plain">true </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CorrectTarget</span><span class="token operator">=</span><span class="token plain">true </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Head</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">InclusionSlot</span><span class="token operator">=</span><span class="token number">9433</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">NewBalance</span><span class="token operator">=</span><span class="token number">32230000000</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">9432</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Source</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Target</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>It informs us that an attestation by validator 2 was included. The balance change between the previous reported balance changing event and this event was 12652 GWei. It also shows the current balance of this validator. This attestation voted correctly and timely for Head, Source and Target. It gives us the leading digits of the hashes for Head, Source and Target blocks. it tells us what is the slot in which this attestation was included (9433) and the slot that the validator attested for (9432). Thus, this attestation had an inclusion distance of 1.</p><p>Associated to this event, the monitor emits the following metrics</p><ul><li>inclusion_slot: a gauge vector of all the inclusion slots of attestations.</li><li>timely_head:  a counter of correctly and timely voted head attestations.</li><li>timely_target: a counter of correctly and timely voted target.</li><li>timely_source: a counter of correctly and timely voted source.</li></ul><p>These metrics are parameterized by validator index, not public key as you may be used to from the validator client metrics.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="block-proposed"></a>Block proposed<a class="hash-link" href="#block-proposed" title="Direct link to heading">#</a></h2><p>In case of a block proposed by a tracked validator the following is logged</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Proposed block was included&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BalanceChange</span><span class="token operator">=</span><span class="token number">120343</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BlockRoot</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">NewBalance</span><span class="token operator">=</span><span class="token number">323430000000</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ParentRoot</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ProposerIndex</span><span class="token operator">=</span><span class="token number">12</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">62394</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Version</span><span class="token operator">=</span><span class="token number">1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>And associated to this event the monitor emits the metric <code>proposed_slots_total</code> which is a counter.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="slashings"></a>Slashings<a class="hash-link" href="#slashings" title="Direct link to heading">#</a></h2><p>In the event that one of the tracked validators was slashed, the monitor will log as follows for proposer slashings</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Proposer slashing was included&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ProposerIndex</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Root1</span><span class="token operator">=</span><span class="token plain">0xae219327ef71 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Root2</span><span class="token operator">=</span><span class="token plain">0x92120efa2ae3 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SlashingSlot</span><span class="token operator">=</span><span class="token number">122931</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">122942</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>here <code>SlashingSlot</code> indicates the slot in which the proposer had two different blocks proposed. The field  <code>Slot</code> is the slot in which the slashing was included.
and for attester slashings:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Attester slashing was included&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">AttesterIndex</span><span class="token operator">=</span><span class="token number">15</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Root1</span><span class="token operator">=</span><span class="token plain">0x483eaf932ef1 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Root2</span><span class="token operator">=</span><span class="token plain">0x921843eca827 </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">12042</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot1</span><span class="token operator">=</span><span class="token number">12039</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot2</span><span class="token operator">=</span><span class="token number">11803</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SourceEpoch1</span><span class="token operator">=</span><span class="token number">367</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SourceEpoch2</span><span class="token operator">=</span><span class="token number">368</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TargetEpoch1</span><span class="token operator">=</span><span class="token number">370</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TargetEpoch2</span><span class="token operator">=</span><span class="token number">369</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Where we see a surround vote attestation for validator 15 that we are tracking.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sync-committee-contributions"></a>Sync committee contributions<a class="hash-link" href="#sync-committee-contributions" title="Direct link to heading">#</a></h2><p>In the case one of the validators enters a sync committee, the following will be logged every slot:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Sync committee contribution included&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BalanceChange</span><span class="token operator">=</span><span class="token number">1293</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Contributions</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ExpectedContrib</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">NewBalance</span><span class="token operator">=</span><span class="token number">32122384000</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This validator had two different indices in the committee and only contributed for one.</p><p>Also the metric <code>sync_committee_contributions_total</code>, which is a counter, is emitted.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="voluntary-exits"></a>Voluntary exits<a class="hash-link" href="#voluntary-exits" title="Direct link to heading">#</a></h2><p>Voluntary exits are logged when they are included in a block</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Voluntary exit was included&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">20112</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>And also when they are seen in the P2P network</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Voluntary exit was processed&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="attestations-in-the-p2p-network"></a>Attestations in the P2P network<a class="hash-link" href="#attestations-in-the-p2p-network" title="Direct link to heading">#</a></h2><p>The monitor logs events caught in the P2P network that not necessarily will be included in blocks. When one of our tracked validators is an aggregator:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Processed attestation aggregation&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">AggregatorIndex</span><span class="token operator">=</span><span class="token number">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BeaconBlockRoot</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SourceRoot</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TargetRoot</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The following logs are emitted when an attestation by a tracked validator is seen in the P2P network, both in aggregated or unaggregated form:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Processed aggregated attestation&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Head</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">11293</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Source</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Target</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Processed unaggregated attestation&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Head</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Slot</span><span class="token operator">=</span><span class="token number">12123</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Source</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">Target</span><span class="token operator">=</span><span class="token plain">0x68656c6c6f2d </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">12</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The above logs are quite verbose as typically the same aggregation is seen about 8 times per slot.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="aggregated-logs"></a>Aggregated logs<a class="hash-link" href="#aggregated-logs" title="Direct link to heading">#</a></h2><p>In addition to the above logs, the monitor emits aggregated logs every 5 epochs</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">INFO monitor </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Aggregated performance since launch&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">AttestationInclusion</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;80.00%&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">AverageInclusionDistance</span><span class="token operator">=</span><span class="token number">1.2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">BalanceChangePct</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0.95%&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CorrectlyVotedHeadPct</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;66.67%&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CorrectlyVotedSourcePct</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;91.67%&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">CorrectlyVotedTargetPct</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;100.00%&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">StartBalance</span><span class="token operator">=</span><span class="token number">31700000000</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">StartEpoch</span><span class="token operator">=</span><span class="token number">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TotalAggregations</span><span class="token operator">=</span><span class="token number">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TotalProposedBlocks</span><span class="token operator">=</span><span class="token number">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TotalRequested</span><span class="token operator">=</span><span class="token number">15</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TotalSyncContributions</span><span class="token operator">=</span><span class="token number">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ValidatorIndex</span><span class="token operator">=</span><span class="token number">1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The field <code>AttestationInclusion</code> reports the percentage of attestations that have been included divided by the number of epochs since launch. The field <code>AverageInclusionDistance</code> only counts those attestations that have been included. So do the other fields that are percentages of the included attestations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="a-remark-on-balancechange"></a>A remark on BalanceChange<a class="hash-link" href="#a-remark-on-balancechange" title="Direct link to heading">#</a></h2><p>The validator monitor does not keep a history of performance, it only tracks the <em>latest event</em> and keeps an aggregated total of performance. The <em>balance changing events</em> are attestation inclusion, proposed blocks inclusion and sync committee inclusion. When the monitor reports a field <code>BalanceChange</code> it means the difference between the balance right after processing the block that triggered the event, and the balance after the previous balance changing event. In particular, when an attestation is included the balance is not changed by the included attestation since attestation reward is given at epoch transition. Therefore the balance change reported, assuming no other events like sync committee contributions and block proposals were reported during the epoch, refers to the reward given by the <em>previous</em> attestation.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/zeroone-boa/agora-cl-docs/edit/master/website/docs/agora-cl-usage/individual-validator-monitoring.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/monitoring/is-everything-fine"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Monitor Agora-cl for expected behavior</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/agora-cl-usage/monitoring/grafana-dashboard"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configure dashboarding and alerts with Prometheus and Grafana Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#attestations-included-in-blocks" class="table-of-contents__link">Attestations included in blocks</a></li><li><a href="#block-proposed" class="table-of-contents__link">Block proposed</a></li><li><a href="#slashings" class="table-of-contents__link">Slashings</a></li><li><a href="#sync-committee-contributions" class="table-of-contents__link">Sync committee contributions</a></li><li><a href="#voluntary-exits" class="table-of-contents__link">Voluntary exits</a></li><li><a href="#attestations-in-the-p2p-network" class="table-of-contents__link">Attestations in the P2P network</a></li><li><a href="#aggregated-logs" class="table-of-contents__link">Aggregated logs</a></li><li><a href="#a-remark-on-balancechange" class="table-of-contents__link">A remark on BalanceChange</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_SRtH" href="/docs/getting-started"><img src="/img/Agora-cl.svg" alt="Agora-cl Docs" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/Agora-cl.svg" alt="Agora-cl Docs" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Bosagora, Validator Deposit Contract 0xXXX</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fbada0f2.js"></script>
<script src="/assets/js/main.f24723cf.js"></script>
</body>
</html>