<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-139640266-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Agora-cl" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Quickstart: Run a node and (optionally) stake BOA using Agora-cl | Agora-cl</title><meta data-react-helmet="true" property="og:url" content="https://agora-cl-docs.bosagora.io/docs/install/install-with-script"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Quickstart: Run a node and (optionally) stake BOA using Agora-cl | Agora-cl"><meta data-react-helmet="true" name="description" content="Step 1: Review prerequisites and best practices"><meta data-react-helmet="true" property="og:description" content="Step 1: Review prerequisites and best practices"><link data-react-helmet="true" rel="shortcut icon" href="/img/bosagora-logo.png"><link data-react-helmet="true" rel="canonical" href="https://agora-cl-docs.bosagora.io/docs/install/install-with-script"><link data-react-helmet="true" rel="alternate" href="https://agora-cl-docs.bosagora.io/docs/install/install-with-script" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://agora-cl-docs.bosagora.io/docs/install/install-with-script" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d023a482.css">
<link rel="preload" href="/assets/js/runtime~main.fbada0f2.js" as="script">
<link rel="preload" href="/assets/js/main.f24723cf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/getting-started"><img src="/img/bosagora-logo.png" alt="logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/bosagora-logo.png" alt="logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Agora-cl Documentation</b></a><a href="https://github.com/zeroone-boa/agora-cl/releases/tag/v3.1.1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">agora_v3.1.1</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/install/install-with-script">Quick Install</a><a href="https://github.com/zeroone-boa/agora-cl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://t.me/bosagora_eng" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_fBfG"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Table of contents</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/install/install-with-script">Quickstart: Run a node</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/prepare-for-merge">Prepare for The Merge</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-best-practices">Security best practices</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/agora-cl-usage/parameters">Command-line options</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/monitoring/checking-status">Check node and validator status</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting/issues-errors">Troubleshooting</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced installation guides</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">How-tos</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developer wiki</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Misc</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">Frequently asked questions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/terminology">Glossary</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_dC7a">Quickstart: Run a node and (optionally) stake BOA using Agora-cl</h1></header><div class="quickstart"><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Already running a node?</h5></div><div class="admonition-content"><p>This guidance is targeted at new users. If you&#x27;re already running a node, see <a href="/docs/prepare-for-merge">Prepare for The Merge</a>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="select-a-configuration"></a>Select a configuration<a class="hash-link" href="#select-a-configuration" title="Direct link to heading">#</a></h2><p>If you&#x27;re looking for the simplest configuration, select <code>Agora-el</code> and <code>IPC</code>:</p><div class="quickstart-tabs"><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label os-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Operating system:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel"></div><div role="tabpanel" hidden=""></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label network-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Network:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel"></div><div role="tabpanel" hidden=""></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label hidden-in-docker-guide el-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Execution client:</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Agora-el</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel" hidden=""></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label hidden-in-jwt-guide hidden-in-docker-guide enbn-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">EN-BN connection:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">HTTP-JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel"></div><div role="tabpanel" hidden=""></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>Agora-cl is an implementation of the <a href="https://github.com/ethereum/consensus-specs" target="_blank" rel="noopener noreferrer">Ethereum proof-of-stake consensus specification</a>. In this quickstart, youâ€™ll use Agora-cl to run an Agora-cl node and optionally a validator. This will let you stake 40,000 BOA using hardware that you manage.</p><p>This is a beginner-friendly guide. Familiarity with the command line is expected, but otherwise this guide makes no assumptions about your technical skills or prior knowledge.</p><p>At a high level, we&#x27;ll walk through the following flow:</p><ol><li>Configure an <strong>Agora execution node</strong> using Agora-el, an execution-layer client.</li><li>Configure an <strong>Agora consensus node</strong> using Agora-cl, a consensus-layer client.</li><li>Configure an <strong>Agora validator</strong> and stake BOA using Agora-validator (optional).</li></ol><br><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Knowledge Check</h5></div><div class="admonition-content"><p><strong>Not familiar with nodes, networks, and related terminology?</strong> Consider reading <a href="/docs/concepts/nodes-networks">Nodes and networks</a> before proceeding.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="step-1-review-prerequisites-and-best-practices"></a>Step 1: Review prerequisites and best practices<a class="hash-link" href="#step-1-review-prerequisites-and-best-practices" title="Direct link to heading">#</a></h2><table><tr><th style="min-width:180px">Node type</th><th>Benefits</th><th>Requirements</th></tr><tr><td><strong>Agora Execution + Agora Consensus</strong></td><td><ul><li>Contributes to the security of Agora&#x27;s ecosystem.</li><li>Lets you access the Agora network directly without having to trust a third party service.</li><li>Lets you run a validator post-Merge.</li></ul></td><td><ul><li><strong>Software</strong>: Execution client, Agora node client (instructions for clients below), <a href="https://curl.se/download.html" target="_blank" rel="noopener noreferrer">curl</a></li><li><strong>OS</strong>: 64-bit Linux, Mac OS X 10.14+, Windows 10+ 64-bit</li><li><strong>CPU</strong>: 4+ cores @ 2.8+ GHz</li><li><strong>Memory</strong>: 16GB+ RAM</li><li><strong>Storage</strong>: SSD with at least 2TB free space</li><li><strong>Network</strong>: 8 MBit/sec broadband</li></ul></td></tr><tr><td><strong>Validator</strong></td><td>Lets you stake BOA, propose + validate blocks, earn staking rewards + transaction fee tips.</td><td><ul><li>Everything above, plus...</li><li><strong>Software:</strong> Validator client, browser-based crypto wallet (instructions below)</li><li><strong>Hardware:</strong> (Recommended) A new machine that has never been connected to the internet that you can use to securely generate your mnemonic phrase and keypair</li><li><strong>40,000 BOA</strong> (Mainnet)</li><li><strong>40,000 testnet BOA</strong> (Testnets)</li></ul></td></tr></table><div class="hidden-in-mergeprep-guide"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="best-practices"></a>Best practices<a class="hash-link" href="#best-practices" title="Direct link to heading">#</a></h3><ul><li><strong>If you&#x27;re staking BOA as a validator, try this guide on a testnet first</strong>, <em>then</em> mainnet.</li><li><strong>Keep things simple</strong>. This guidance assumes all client software will run on a single machine.</li><li><strong>Review the latest advisories</strong> for the network(s) that you&#x27;re using: <a href="https://testnet-agora-staking.bosagora.org" target="_blank" rel="noopener noreferrer">testnet</a>, <a href="https://agora-staking.bosagora.org" target="_blank" rel="noopener noreferrer">Mainnet</a>.</li><li>Review all of our <a href="/docs/security-best-practices">published security best practices</a>.</li><li><strong>Join the community</strong> - join the <a href="https://t.me/bosagora_eng" target="_blank" rel="noopener noreferrer">Bosagora Telegram</a> for updates and support.</li></ul></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="step-2-install-agora-cl"></a>Step 2: Install Agora-cl<a class="hash-link" href="#step-2-install-agora-cl" title="Direct link to heading">#</a></h2><div class="hide-tabs"><p>Create a folder called <code>agora</code> on your SSD, and then two subfolders within it: <code>consensus</code> and <code>execution</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">ðŸ“‚agora</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”£ ðŸ“‚consensus</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â”£ ðŸ“‚execution</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Windows</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Linux, MacOS, Arm64</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Navigate to your <code>consensus</code> directory and run the following commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir -p agora\consensus &amp;&amp; cd agora\consensus</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl https://raw.githubusercontent.com/zeroone-boa/agora-cl/agora_v3.1.1/prysm.bat --output agora-cl.bat</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">reg add HKCU\Console /v VirtualTerminalLevel /t REG_DWORD /d 1</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This will download the Agora-cl client and update your registry to enable verbose logging.</p></div><div role="tabpanel"><p>Navigate to your <code>consensus</code> directory and run the following commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir agora/consensus &amp;&amp; cd agora/consensus</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl https://raw.githubusercontent.com/zeroone-boa/agora-cl/agora_v3.1.1/prysm.sh --output agora-cl.sh &amp;&amp; chmod +x agora-cl.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This will download the Agora-cl client and make it executable.</p></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><h3>Generate JWT Secret</h3><p>The HTTP connection between your Agora node and execution node needs to be authenticated using a <a href="https://jwt.io/" target="_blank" rel="noopener noreferrer">JWT token</a>. There are several ways to generate this JWT token:</p><ul><li>Use an online generator like <a href="https://seanwasere.com/generate-random-hex/" target="_blank" rel="noopener noreferrer">this</a>. Copy and paste this value into a <code>jwt.hex</code> file.</li><li>Use a utility like OpenSSL to create the token via command: <code>openssl rand -hex 32 | tr -d &quot;\n&quot; &gt; &quot;jwt.hex&quot;</code>.</li><li>Use an execution client to generate the <code>jwt.hex</code> file.</li><li>Use Agora-cl to generate the <code>jwt.hex</code> file:</li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Operating system:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">## Optional. This command is necessary only if you&#x27;ve previously configured USE_PRYSM_VERSION</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SET USE_PRYSM_VERSION=v3.1.1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## Required.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat beacon-chain generate-auth-secret</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">## Optional. This command is necessary only if you&#x27;ve previously configured USE_PRYSM_VERSION</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">USE_PRYSM_VERSION=v3.1.1</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## Required.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh beacon-chain generate-auth-secret</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><p>Agora-cl will output a <code>jwt.hex</code> file path.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-content"><p>Ensure that the script, user, or terminal window used to create and access your JWT token has the permissions it needs. Windows users may need to run command windows as Administrator.</p></div></div><p>This guide assumes that you&#x27;ve placed your <code>jwt.hex</code> file in your <code>consensus</code> directory, but you can place it anywhere and revise the below commands as needed.</p></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="step-3-run-an-execution-client"></a>Step 3: Run an execution client<a class="hash-link" href="#step-3-run-an-execution-client" title="Direct link to heading">#</a></h2><p>In this step, you&#x27;ll install an execution-layer client that Agora-cl&#x27;s Agora node will connect to.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Agora-el</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p class="hidden-in-jwt-guide hidden-in-mergeprep-guide">Download and run the latest 64-bit stable release of the <strong>Agora-el installer</strong> for your operating system from the <a href="https://agora-el.bosagora.org/downloads/" target="_blank" rel="noopener noreferrer">Agora execution layer client downloads page</a>.</p><p class="hidden-in-jwt-guide hidden-in-mergeprep-guide">Navigate to your <code>execution</code> directory and run the following command to start your execution node:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabs-hidden-in-jwt-guide"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">geth --http --http.api eth,net,engine,admin --authrpc.jwtsecret /path/to/jwt.hex </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">geth --http --http.api eth,net,engine,admin </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div><div role="tabpanel" hidden=""><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabs-hidden-in-jwt-guide"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">geth --goerli --http --http.api eth,net,engine,admin --authrpc.jwtsecret /path/to/jwt.hex </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">geth --goerli --http --http.api eth,net,engine,admin </span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div></div></div><p>See Geth&#x27;s <a href="https://docs.bosagora.org/en/agora-el/command-line-options" target="_blank" rel="noopener noreferrer">command-line options</a> for parameter definitions.</p></div></div></div><p>Syncing can take a long time - from hours to days. <span class="hidden-in-jwt-guide hidden-in-execution-guide">You can proceed to the next step while your execution node syncs.</span></p><p>Congratulations - youâ€™re now running an <strong>execution node</strong> in Ethereumâ€™s execution layer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="step-4-run-a-agora-node-using-agora-cl"></a>Step 4: Run a Agora node using Agora-cl<a class="hash-link" href="#step-4-run-a-agora-node-using-agora-cl" title="Direct link to heading">#</a></h2><p class="hidden-in-jwt-guide hidden-in-mergeprep-guide">In this step, you&#x27;ll run a Agora node using Agora-cl.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Windows</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Linux, MacOS, Arm64</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><p class="hidden-in-jwt-guide hidden-in-mergeprep-guide">Use the following command to start a Agora node that connects to your local execution node:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat beacon-chain --execution-endpoint=http://localhost:8551 --jwt-secret=path/to/jwt.hex --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="admonition admonition-info alert alert--info"><div class="admonition-content"><p><code>--http-web3provider</code> is deprecated and has been replaced with <code>--execution-endpoint</code>, but IPC currently only works through <code>--http-web3provider</code> on Windows. This will be fixed in our next release. You can safely ignore any related &quot;deprecated flag&quot; warnings you see in the meantime.</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat beacon-chain --http-web3provider=//./pipe/&lt;your.ipc&gt; --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div><div role="tabpanel" hidden=""><p class="hidden-in-jwt-guide">Download the <a href="https://agora-testnet.s3.ap-southeast-1.amazonaws.com/genesis.ssz" target="_blank" rel="noopener noreferrer">Testnet genesis state</a> into your <code>consensus/agora-cl</code> directory. Then use the following command to start a Agora node that connects to your local execution node:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat beacon-chain --execution-endpoint=http://localhost:8551 --testnet --jwt-secret=path/to/jwt.hex --genesis-state=genesis.ssz --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="admonition admonition-info alert alert--info"><div class="admonition-content"><p><code>--http-web3provider</code> is deprecated and has been replaced with <code>--execution-endpoint</code>, but IPC currently only works through <code>--http-web3provider</code> on Windows. This will be fixed in our next release. You can safely ignore any related &quot;deprecated flag&quot; warnings you see in the meantime.</p></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat beacon-chain --http-web3provider=//./pipe/&lt;your.ipc&gt; --testnet --genesis-state=genesis.ssz --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div></div></div></div><div role="tabpanel"><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>Use the following command to start a Agora node that connects to your local execution node:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh beacon-chain --execution-endpoint=http://localhost:8551 --jwt-secret=path/to/jwt.hex --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh beacon-chain --execution-endpoint=$HOME/.ethereum/&lt;your.ipc&gt; --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div><div role="tabpanel" hidden=""><p class="hidden-in-jwt-guide">Download the <a href="https://agora-testnet.s3.ap-southeast-1.amazonaws.com/genesis.ssz" target="_blank" rel="noopener noreferrer">Testnet genesis state from Github</a> into your <code>consensus/agora-cl</code> directory. Then use the following command to start a Agora node that connects to your local execution node:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh beacon-chain --execution-endpoint=http://localhost:8551 --testnet --jwt-secret=path/to/jwt.hex --genesis-state=genesis.ssz --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh beacon-chain --execution-endpoint=$HOME/.ethereum/&lt;your.ipc&gt; --testnet --genesis-state=genesis.ssz --suggested-fee-recipient=0x01234567722E6b0000012BFEBf6177F1D2e9758D9</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div></div></div></div></div></div><div class="hidden-in-jwt-guide hidden-in-mergeprep-guide"><p>If you&#x27;re running a validator, specifying a <code>suggested-fee-recipient</code> wallet address will allow you to earn what were previously miner transaction fee tips. See <a href="/docs/execution-node/fee-recipient">How to configure Fee Recipient</a> for more information about this feature.</p><p>Your Agora node will now begin syncing. This usually takes a couple days, but it can take longer depending on your network and hardware specs.</p><p class="hidden-in-mergeprep-guide">Congratulations - youâ€™re now running a <strong>full, Merge-ready Agora node</strong>. To check the status of your node see [Check node and validator status](&#x27;/docs/monitoring/checking-status&#x27;).</p></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="step-5-run-a-validator-using-agora-cl"></a>Step 5: Run a validator using Agora-cl<a class="hash-link" href="#step-5-run-a-validator-using-agora-cl" title="Direct link to heading">#</a></h2><p>Next, we&#x27;ll create your validator keys with the <a href="https://github.com/zeroone-boa/agora-deposit-cli" target="_blank" rel="noopener noreferrer">Agora Staking Deposit Client</a>.</p><p>Download the latest stable version of the deposit client from the <a href="https://github.com/zeroone-boa/agora-deposit-cli/releases" target="_blank" rel="noopener noreferrer">Agora Staking Deposit Client Releases page</a>.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Windows</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Linux, MacOS, Arm64</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden=""><p>Run the following command to create your mnemonic (a unique and <strong>highly sensitive</strong> 24-word phrase) and keys:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">deposit.exe new-mnemonic --num_validators=1 --mnemonic_language=english</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">deposit.exe new-mnemonic --num_validators=1 --mnemonic_language=english --chain=testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><p>Follow the CLI prompts to generate your keys. This will give you the following artifacts:</p><ol><li>A <strong>new mnemonic seed phrase</strong>. This is <strong>highly sensitive</strong> and should never be exposed to other people or networked hardware.</li><li>A <code>validator_keys</code> folder. This folder will contain two files:<ol><li><code>deposit_data-*.json</code> - contains deposit data that youâ€™ll later upload to the Agora launchpad.</li><li><code>keystore-m_*.json</code> - contains your public key and encrypted private key.</li></ol></li></ol><p>Copy the <code>validator_keys</code> folder to your primary machine&#x27;s <code>consensus</code> folder. Run the following command to import your keystores, replacing <code>&lt;YOUR_FOLDER_PATH&gt;</code> with the full path to your <code>consensus/validator_keys</code> folder:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat validator accounts import --keys-dir=&lt;YOUR_FOLDER_PATH&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Youâ€™ll be prompted to specify a wallet directory twice. Provide the path to your <code>consensus</code> folder for both prompts. You should see <code>Successfully imported 1 accounts, view all of them by running accounts list</code> when your account has been successfully imported into Agora-cl.</p><p>Next, go to the <a href="https://agora-staking.bosagora.org/en/upload-deposit-data" target="_blank" rel="noopener noreferrer">Mainnet staking launchpadâ€™s deposit data upload page</a> and upload your <code>deposit_data-*.json</code> file. Youâ€™ll be prompted to connect your wallet.</p><p>You can then deposit 40,000 BOA into the Mainnet deposit contract via the staking launchpad page. Exercise extreme caution throughout this procedure.</p><p>Finally, run the following command to start your validator, replacing <code>&lt;YOUR_FOLDER_PATH&gt;</code> with the full path to your <code>consensus</code> folder:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat validator --wallet-dir=&lt;YOUR_FOLDER_PATH&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat validator accounts import --keys-dir=&lt;YOUR_FOLDER_PATH&gt; --testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Youâ€™ll be prompted to specify a wallet directory twice. Provide the path to your <code>consensus</code> folder for both prompts. You should see <code>Successfully imported 1 accounts, view all of them by running accounts list</code> when your account has been successfully imported into Agora-cl.</p><p>Next, go to the <a href="https://testnet-agora-staking.bosagora.org/en/upload-deposit-data" target="_blank" rel="noopener noreferrer">Agora Testnet staking launchpadâ€™s deposit data upload page</a> and upload your <code>deposit_data-*.json</code> file. Youâ€™ll be prompted to connect your wallet.</p><p>If you need Testnet BOA, head over to one of the following Telegram server:</p><ul><li><a href="https://t.me/bosagora_eng" target="_blank" rel="noopener noreferrer">Bosagora Telegram</a></li></ul><p>Someone should be able to give you the Testnet BOA you need. You can then deposit 40,000 BOA into the Agora testnetâ€™s deposit contract via the staking launchpad page. Exercise extreme caution throughout this procedure - <strong>never send real BOA to the testnet deposit contract.</strong> Finally, run the following command to start your validator, replacing <code>&lt;YOUR_FOLDER_PATH&gt;</code> with the full path to your <code>consensus</code> folder:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">agora-cl.bat validator --wallet-dir=&lt;YOUR_FOLDER_PATH&gt; --testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div><div role="tabpanel"><p>Run the following command to create your mnemonic phrase and keys:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./deposit new-mnemonic --num_validators=1 --mnemonic_language=english</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./deposit new-mnemonic --num_validators=1 --mnemonic_language=english --chain=testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div><p>Follow the CLI prompts to generate your keys. This will give you the following artifacts:</p><ol><li>A <strong>new mnemonic seed phrase</strong>. This is <strong>highly sensitive</strong> and should never be exposed to other people or networked hardware.</li><li>A <code>validator_keys</code> folder. This folder will contain two files:<ol><li><code>deposit_data-*.json</code> - contains deposit data that youâ€™ll later upload to the Ethereum launchpad.</li><li><code>keystore-m_*.json</code> - contains your public key and encrypted private key.</li></ol></li></ol><p>Copy the <code>validator_keys</code> folder to your primary machine&#x27;s <code>consensus</code> folder. Run the following command to import your keystores, replacing <code>&lt;YOUR_FOLDER_PATH&gt;</code> with the full path to your <code>consensus/validator_keys</code> folder:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh validator accounts import --keys-dir=&lt;YOUR_FOLDER_PATH&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Youâ€™ll be prompted to specify a wallet directory twice. Provide the path to your <code>consensus</code> folder for both prompts. You should see <code>Successfully imported 1 accounts, view all of them by running accounts list</code> when your account has been successfully imported into Agora-cl.</p><p>Next, go to the <a href="https://agora-staking.bosagora.org/en/upload-deposit-data" target="_blank" rel="noopener noreferrer">Mainnet staking launchpadâ€™s deposit data upload page</a> and upload your <code>deposit_data-*.json</code> file. Youâ€™ll be prompted to connect your wallet.</p><p>You can then deposit 40,000 BOA into the Mainnet deposit contract via the staking launchpad page. Exercise extreme caution throughout this procedure. Finally, run the following command to start your validator, replacing <code>&lt;YOUR_FOLDER_PATH&gt;</code> with the full path to your <code>consensus</code> folder:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh validator --wallet-dir=&lt;YOUR_FOLDER_PATH&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh validator accounts import --keys-dir=&lt;YOUR_FOLDER_PATH&gt; --testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Youâ€™ll be prompted to specify a wallet directory twice. Provide the path to your <code>consensus</code> folder for both prompts. You should see <code>Successfully imported 1 accounts, view all of them by running accounts list</code> when your account has been successfully imported into Agora-cl.</p><p>Next, go to the <a href="https://goerli.launchpad.ethereum.org/en/upload-deposit-data" target="_blank" rel="noopener noreferrer">Agora Testnet staking launchpadâ€™s deposit data upload page</a> and upload your <code>deposit_data-*.json</code> file. Youâ€™ll be prompted to connect your wallet.</p><p>If you need Testnet BOA, head over to :</p><ul><li><a href="https://t.me/bosagora_eng" target="_blank" rel="noopener noreferrer">Bosagora Telegram</a></li></ul><p>Someone should be able to give you the Testnet BOA you need. You can then deposit 40,000 BOA into the Agota testnetâ€™s deposit contract via the staking launchpad page. Exercise extreme caution throughout this procedure - <strong>never send real BOA to the testnet deposit contract.</strong>  Finally, run the following command to start your validator, replacing <code>&lt;YOUR_FOLDER_PATH&gt;</code> with the full path to your <code>consensus</code> folder:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./agora-cl.sh validator --wallet-dir=&lt;YOUR_FOLDER_PATH&gt; --testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Congratulations!</h5></div><div class="admonition-content"><p>Youâ€™re now running a <strong>full Agora consensus node</strong> and a <strong>validator</strong>.</p></div></div><p>It can a long time (from days to months) for your validator to become fully activated as there are a limitied number of validators allowed to join each Epoch. See <a href="/docs/monitoring/checking-status">Check node and validator status</a> for detailed status monitoring guidance.</p><p>You can leave your <strong>execution client</strong>, <strong>Agora node</strong>, and <strong>validator client</strong> terminal windows open and running. Once your validator is activated, it will automatically begin proposing and validating blocks.</p></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="frequently-asked-questions"></a>Frequently asked questions<a class="hash-link" href="#frequently-asked-questions" title="Direct link to heading">#</a></h2><p><strong>Why do you recommend putting everything on a single machine?</strong> <br>
Keeping all of your client software on a single machine keeps things simple, which aligns with our <a href="/docs/security-best-practices">security best practices</a>.</p><p><strong>Can I use Agora-cl on a Mac M1 ARM chip?</strong> <br>
Mac M1 ARM chips currently require users to run Agora-cl through <a href="https://support.apple.com/en-us/HT211861" target="_blank" rel="noopener noreferrer">Rosetta</a>. See our <a href="https://github.com/zeroone-boa/agora-cl/issues/9385" target="_blank" rel="noopener noreferrer">open bug</a> for details.</p><p><strong>Do I need to configure JWT if I&#x27;m using IPC instead of HTTP?</strong> <br>
No.</p><p><strong>Do I need to configure my firewall?</strong> <br>
We recommend <strong>closing</strong> TCP port <code>8545</code> to the internet and keeping TCP and UDP ports <code>30303</code> <strong>open</strong> to support other execution nodes.</p><p><strong>Can you mix and match networks between execution layer and consensus layer?</strong> <br>
No. See <a href="/docs/concepts/nodes-networks">Nodes and networks</a> for more information.</p><p><strong>Can I stake with less than 40,000 BOA?</strong> <br>
Yes! <a href="https://ethereum.org/en/staking/pools/" target="_blank" rel="noopener noreferrer">Pooled staking</a> lets you stake with less than 40,000 BOA.</p><p><strong>What should I do if I can&#x27;t run a node using my own hardware?</strong> <br>
You can delegate hardware management to <a href="https://ethereum.org/en/staking/saas/" target="_blank" rel="noopener noreferrer">staking as a service</a> providers.</p><p><strong>Can I use a light node with Agora-cl, or do I need to run a full execution node?</strong> <br>
No - at this time, a full node is required.</p><p><strong>Can I use an external SSD connected via USB?</strong> <br>
Yes, but your USB connection introduces a possible point of failure. If you do this, avoid connecting your SSD to your computer through a USB hub - instead, connect it directly.</p><p><strong>Can I use a light client as my local execution client so I don&#x27;t have to download so much data?</strong>  <br>
No, a full execution node is needed.</p><p><strong>Why do I need to run my own execution client?</strong> <br>
The Merge introduces a new Engine API that allows consensus-layer clients to communicate with execution-layer clients. Teku docs contain a great explainer here: <a href="https://docs.teku.consensys.net/en/latest/Concepts/Merge/" target="_blank" rel="noopener noreferrer">The Merge</a>.</p><p><strong>What happens if my execution client goes down? Will I be penalized?</strong> <br>
Yes. Downtime penalties are minimal but we recommend having uptime and downtime alerts configured for your execution node, Agora node, and validator if possible.</p><p><strong>My Agora node is taking a long time to sync. Is there any way I can speed it up?</strong> <br>
Yes - you can use <a href="/docs/agora-cl-usage/checkpoint-sync">checkpoint sync</a> to start your Agora node&#x27;s synchronization from a checkpoint rather than from genesis. This is actually a more secure way to run your Agora node.</p><p><strong>My proposals aren&#x27;t working, but my attestations are. What&#x27;s going on?</strong> <br>
This is usually an indication that your validator isn&#x27;t able to communicate with your Agora node, or your Agora node isn&#x27;t able to connect to your execution node.</p><p><strong>How long does it take for my validator to be selected to propose a new block?</strong> <br>
At the time of this writing, a ballpark estimate is <strong>around a week</strong>. Every 12 seconds a new block is proposed, and your validator has a one in [total number of active validators] chance of being chosen, so this duration can vary significantly from one validator to the next.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/zeroone-boa/agora-cl-docs/edit/master/website/docs/install/install-with-script.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Table of contents</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/prepare-for-merge"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Prepare for The Merge Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-review-prerequisites-and-best-practices" class="table-of-contents__link">Step 1: Review prerequisites and best practices</a></li><li><a href="#step-2-install-agora-cl" class="table-of-contents__link">Step 2: Install Agora-cl</a></li><li><a href="#step-3-run-an-execution-client" class="table-of-contents__link">Step 3: Run an execution client</a></li><li><a href="#step-4-run-a-agora-node-using-agora-cl" class="table-of-contents__link">Step 4: Run a Agora node using Agora-cl</a></li><li><a href="#step-5-run-a-validator-using-agora-cl" class="table-of-contents__link">Step 5: Run a validator using Agora-cl</a></li><li><a href="#frequently-asked-questions" class="table-of-contents__link">Frequently asked questions</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_SRtH" href="/docs/getting-started"><img src="/img/Agora-cl.svg" alt="Agora-cl Docs" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/Agora-cl.svg" alt="Agora-cl Docs" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Bosagora, Validator Deposit Contract 0xXXX</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fbada0f2.js"></script>
<script src="/assets/js/main.f24723cf.js"></script>
</body>
</html>