<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-139640266-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Agora-cl" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Install Agora-cl with Docker | Agora-cl</title><meta data-react-helmet="true" property="og:url" content="https://agora-cl-docs.bosagora.io/docs/install/install-with-docker"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Install Agora-cl with Docker | Agora-cl"><meta data-react-helmet="true" name="description" content="Agora-cl can be installed on Windows, GNU/Linux, and MacOS systems with Docker. We use Bazel to push preconfigured Docker images to a publicly accessible Google Cloud container registry."><meta data-react-helmet="true" property="og:description" content="Agora-cl can be installed on Windows, GNU/Linux, and MacOS systems with Docker. We use Bazel to push preconfigured Docker images to a publicly accessible Google Cloud container registry."><link data-react-helmet="true" rel="shortcut icon" href="/img/bosagora-logo.png"><link data-react-helmet="true" rel="canonical" href="https://agora-cl-docs.bosagora.io/docs/install/install-with-docker"><link data-react-helmet="true" rel="alternate" href="https://agora-cl-docs.bosagora.io/docs/install/install-with-docker" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://agora-cl-docs.bosagora.io/docs/install/install-with-docker" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.9b7cbe7b.css">
<link rel="preload" href="/assets/js/runtime~main.bf2263fc.js" as="script">
<link rel="preload" href="/assets/js/main.a87cd8b8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/getting-started"><img src="/img/bosagora-logo.png" alt="logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/bosagora-logo.png" alt="logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Agora-cl Documentation</b></a><a href="https://github.com/zeroone-boa/agora-cl/releases/tag/v3.1.1" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">agora_v3.1.1</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/install/install-with-script">Quick Install</a><a href="https://github.com/zeroone-boa/agora-cl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://t.me/bosagora_eng" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1ZXk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Table of contents</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/install/install-with-script">Quickstart: Run a node</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/prepare-for-merge">Prepare for The Merge</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/security-best-practices">Security best practices</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/agora-cl-usage/parameters">Command-line options</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/monitoring/checking-status">Check node and validator status</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting/issues-errors">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Advanced installation guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/install/install-with-docker">Install using Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/install-with-bazel">Build from source</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">How-tos</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developer wiki</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Misc</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">Frequently asked questions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/terminology">Glossary</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Install Agora-cl with Docker</h1></header><p>Agora-cl can be installed on Windows, GNU/Linux, and MacOS systems with Docker. We use <a href="https://bazel.build" target="_blank" rel="noopener noreferrer">Bazel</a> to push preconfigured Docker images to a publicly accessible Google Cloud container registry.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Not familiar with Docker? Try our quickstart</h5></div><div class="admonition-content"><p>This guidance is targeted at users who are already comfortable with Docker. See our <a href="/docs/install/install-with-script">Quickstart</a> for beginner-friendly installation instructions.</p></div></div><div class="docker-guide"><p><strong>Select a configuration</strong>:</p><div class="quickstart-tabs"><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label os-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Operating system:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel"></div><div role="tabpanel" hidden=""></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label network-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Network:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel"></div><div role="tabpanel" hidden=""></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label hidden-in-docker-guide el-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Execution client:</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Agora-el</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel" hidden=""></div></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs tabgroup-with-label hidden-in-jwt-guide hidden-in-docker-guide enbn-tabgroup"><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">EN-BN connection:</li><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">HTTP-JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">IPC</li></ul><div class="margin-vert--md"><div role="tabpanel" hidden="" class="unclickable-element"></div><div role="tabpanel"></div><div role="tabpanel" hidden=""></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="review-system-requirements"></a>Review system requirements<a class="hash-link" href="#review-system-requirements" title="Direct link to heading">#</a></h2><table><tr><th>Minimum</th><th>Recommended</th></tr><tr><td><ul><li><strong>OS</strong>: 64-bit Linux, Mac OS X 10.14+, Windows 64-bit</li><li><strong>CPU</strong>: Intel Core i5â€“760 or AMD FX-8100 or better</li><li><strong>Memory</strong>: 8GB RAM</li><li><strong>Storage</strong>: SSD with 20GB+ available</li><li><strong>Internet</strong>: Broadband connection</li><li><strong>Software</strong>: The latest release of <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker</a> installed.</li></ul></td><td><ul><li><strong>CPU</strong>: Intel Core i7â€“4770 or AMD FX-8310 or better</li><li><strong>Memory</strong>: 16GB RAM</li><li><strong>Storage</strong>: SSD with 100GB+ available</li></ul></td></tr></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="download-the-agora-cl-docker-images"></a>Download the Agora-cl Docker images<a class="hash-link" href="#download-the-agora-cl-docker-images" title="Direct link to heading">#</a></h2><p>First, ensure that you&#x27;re running the most recent version of Docker:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker -v</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Next, pull the Agora-cl images:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">## stable, without Busybox debugging tools</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull bosagora/agora-cl-validator:stable</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull bosagora/agora-cl-node:stable</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## latest, without Busybox debugging tools</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull bosagora/agora-cl-validator:latest</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull bosagora/agora-cl-node:latest</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">## latest, with Busybox debugging tools</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull bosagora/agora-cl-validator:latest-alpine</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker pull bosagora/agora-cl-node:latest-alpine</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>These commands will automatically install dependencies.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configure-ports-optional"></a>Configure ports (optional)<a class="hash-link" href="#configure-ports-optional" title="Direct link to heading">#</a></h2><p>We recommend opening up ports <code>tcp/13000</code> and <code>udp/12000</code> on your router and firewall to improve peer-to-peer connectivity. Refer to your operating system and router documentation for port configuration instructions. With this complete, appending <code>--p2p-host-ip=$(curl -s ident.me)</code> to your Agora node startup command will configure Agora-cl to use your newly opened ports. Refer to <a href="/docs/agora-cl-usage/p2p-host-ip">Configure ports and firewalls</a> for more information.</p><div class="hide-tabs"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-a-agora-node"></a>Run a Agora node<a class="hash-link" href="#run-a-agora-node" title="Direct link to heading">#</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Knowledge Check</h5></div><div class="admonition-content"><p><strong>Not familiar with nodes, networks, and related terminology?</strong> Consider reading <a href="/docs/concepts/nodes-networks">Nodes and networks</a> before proceeding.</p></div></div><p>If you&#x27;re not already running an execution node, refer to our <a href="/docs/install/install-with-script">Quickstart</a> for beginner-friendly execution node installation instructions.</p><p>Next, use Docker to tell your Agora node to connect to your local execution node. Note that <code>&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt;</code> is either an HTTP endpoint <code>http://host:port</code> or an IPC path such as <code>/path/to/geth.ipc</code>.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v $HOME/.eth2:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bosagora/agora-cl-node:stable \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --datadir=/data \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --jwt-secret=&lt;YOUR_JWT_SECRET&gt; \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --rpc-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --grpc-gateway-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --monitoring-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --execution-endpoint=&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Download the Testnet genesis state from <a href="https://agora-testnet.s3.ap-southeast-1.amazonaws.com/testnet-genesis.ssz" target="_blank" rel="noopener noreferrer">Github</a> to a local file. Then issue the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v $HOME/.eth2:/data -v /path/to/genesis.ssz:/genesis/genesis.ssz -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bosagora/agora-cl-node:stable \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --datadir=/data \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --jwt-secret=&lt;YOUR_JWT_SECRET&gt; \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --rpc-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --grpc-gateway-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --monitoring-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --execution-endpoint=&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt; \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --genesis-state=/genesis/genesis.ssz \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></div><div role="tabpanel" hidden=""><p>To ensure that your Docker image has access to a data directory, mount a local drive to your container. Right click your Docker tray icon -&gt; <code>Settings</code> -&gt; <code>Shared Drives</code> -&gt; select your drive -&gt; <code>Apply</code>. Next, create a directory named <code>/agora-cl/</code> within your shared drive. This folder will be used as a local data directory for Agora-cl. This guide assumes that <code>C:</code> is the drive you&#x27;ve selected:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Mainnet</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Testnet</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v %LOCALAPPDATA%\Agora:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp bosagora/agora-cl-node:stable --datadir=/data --jwt-secret=&lt;YOUR_JWT_SECRET&gt; --rpc-host=0.0.0.0 --grpc-gateway-host=0.0.0.0 --monitoring-host=0.0.0.0 --execution-endpoint=&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>Download the Testnet genesis state from <a href="https://agora-testnet.s3.ap-southeast-1.amazonaws.com/testnet-genesis.ssz" target="_blank" rel="noopener noreferrer">Github</a> to a local file. Then issue the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v %LOCALAPPDATA%\Agora:/data -v \path\to\genesis.ssz:/genesis/genesis.ssz -p 4000:4000 -p 13000:13000 -p 12000:12000/udp bosagora/agora-cl-node:stable --datadir=/data --jwt-secret=&lt;YOUR_JWT_SECRET&gt; --rpc-host=0.0.0.0 --grpc-gateway-host=0.0.0.0 --monitoring-host=0.0.0.0 --execution-endpoint=&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt; --genesis-state=/genesis/genesis.ssz --testnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-a-validator"></a>Run a validator<a class="hash-link" href="#run-a-validator" title="Direct link to heading">#</a></h2><div class="admonition admonition-caution alert alert--warning"><div class="admonition-content"><p><strong>Ensure that you&#x27;re not running multiple instances of the same validator public key</strong>, especially if you&#x27;re using scripts or other forms of automation. If the Ethereum network detects two instances of the same validator key submitting proposals, attestations, or votes, it may assume malicious intent and slash accordingly.</p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-content"><p>Verify that your <strong>Agora node and execution node are both fully synced</strong>. If you&#x27;re not fully synced, you risk being penalized and losing some of your staked BOA.</p></div></div><p>Check the sync status of your node with the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl http://localhost:3500/eth/v1alpha1/node/syncing</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If your node is done synchronizing, you will see the response:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{&quot;syncing&quot;:false}%</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="stake-your-boa"></a>Stake your BOA<a class="hash-link" href="#stake-your-boa" title="Direct link to heading">#</a></h3><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Exercise caution</h5></div><div class="admonition-content"><p>The Ethereum launchpad URL is <code>https://agora-staking.bosagora.org</code> and the only, official validator deposit contract is <a href="https://https://www.boascan.io/0xXXX" target="_blank" rel="noopener noreferrer">0xXXX</a>. Don&#x27;t send BOA directly to the contract - deposit your stake through <a href="https://agora-staking.bosagora.org" target="_blank" rel="noopener noreferrer">Agora staking</a>.</p></div></div><p>Use the <a href="https://agora-staking.bosagora.org" target="_blank" rel="noopener noreferrer">Mainnet Launchpad</a> to deposit your 40,000 BOA. If you want to participate in the <strong>testnet</strong>, use the <a href="https://testnet-agora-staking.bosagora.org" target="_blank" rel="noopener noreferrer">Testnet</a>.</p><p>Throughout the process, you&#x27;ll be asked to generate new validator credentials using the <a href="https://github.com/zeroone-boa/agora-deposit-cli" target="_blank" rel="noopener noreferrer">Agora deposit command-line-tool</a>. Make sure you use the <code>mainnet</code> option when generating keys with the deposit CLI. During the process, you will have generated a <code>validator_keys</code> folder under the <code>agora-deposit-cli</code> directory. You can import all of your validator keys into Agora-cl from that folder in the next step.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="import-keystores"></a>Import keystores<a class="hash-link" href="#import-keystores" title="Direct link to heading">#</a></h3><p>Copy the path to the <code>validator_keys</code> folder under the <code>agora-deposit-cli</code> directory you created during the launchpad process and issue the following command:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v $HOME/agora-deposit-cli/validator_keys:/keys \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -v $HOME/AgoraValidators/agora-cl-wallet-v2:/wallet \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --name validator \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --accept-terms-of-use \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bosagora/agora-cl-validator:stable \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  accounts import --keys-dir=/keys --wallet-dir=/wallet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v %LOCALAPPDATA%\agora-deposit-cli\validator_keys:/keys -v %LOCALAPPDATA%\AgoraValidators\agora-cl-wallet-v2:/wallet bosagora/agora-cl-validator:stable accounts import --keys-dir=/keys --wallet-dir=/wallet --accept-terms-of-use</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-validator"></a>Run validator<a class="hash-link" href="#run-validator" title="Direct link to heading">#</a></h3><p>Open a second terminal window. Issue the following command to start the validator:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v $HOME/AgoraValidators/agora-cl-wallet-v2:/wallet \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -v $HOME/Agora:/validatorDB \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --network=&quot;host&quot; --name validator \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bosagora/agora-cl-validator:stable \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --beacon-rpc-provider=127.0.0.1:4000 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --wallet-dir=/wallet \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --datadir=/validatorDB</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v %LOCALAPPDATA%\AgoraValidators\agora-cl-wallet-v2:/wallet -v %LOCALAPPDATA%\Agora:/validatorDB --network=&quot;host&quot; --name validator bosagora/agora-cl-validator:stable --beacon-rpc-provider=127.0.0.1:4000 --wallet-dir=/wallet --datadir=/validatorDB</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Congratulations!</h5></div><div class="admonition-content"><p>Youâ€™re now running a <strong>full Agora node</strong> and a <strong>validator</strong>.</p></div></div><p>It can take some time for your validator to become fully activated as there is a limit to how many can join each epoch. See <a href="/docs/monitoring/checking-status">Check node and validator status</a> for detailed status monitoring guidance.</p><p>You can leave your <strong>execution client</strong>, <strong>Agora node</strong>, and <strong>validator client</strong> terminal windows open and running. Once your validator is activated, it will automatically begin proposing and validating blocks.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="appendix-a-manage-agora-cl-with-docker"></a>Appendix A: Manage Agora-cl with Docker<a class="hash-link" href="#appendix-a-manage-agora-cl-with-docker" title="Direct link to heading">#</a></h2><p>To interact with your Agora node through Docker, use one of the following commands:</p><ul><li>Halt: <code>docker stop agora-cl node</code> or <code>Ctrl+c</code></li><li>Restart: <code>docker start -ai agora-cl node</code></li><li>Delete: <code>docker rm agora-cl node</code></li></ul><p>To recreate a deleted container and refresh the chain database, issue the start command with an additional <code>--clear-db</code> parameter, where <code>&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt;</code> is in the format of an http endpoint such as <code>http://host:port</code> (ex: <code>http://localhost:8551</code> for Geth) or an IPC path such as <code>/path/to/geth.ipc</code>:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Linux, MacOS, Arm64</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Windows</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v $HOME/.eth2:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  bosagora/agora-cl-node:latest \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --datadir=/data \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --clear-db \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --rpc-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --monitoring-host=0.0.0.0 \</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --execution-endpoint=&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly text"><pre tabindex="0" class="prism-code language-text codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker run -it -v %LOCALAPPDATA%\Agora:/data -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name agora-cl node bosagora/agora-cl-node:latest --datadir=/data --clear-db --monitoring-host=0.0.0.0 --rpc-host=0.0.0.0 --execution-endpoint=&lt;YOUR_ETH_EXECUTION_NODE_ENDPOINT&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="frequently-asked-questions"></a>Frequently asked questions<a class="hash-link" href="#frequently-asked-questions" title="Direct link to heading">#</a></h2><p><strong>Why do we set <code>--rpc-host</code> and <code>--grpc-gateway-host</code> to <code>0.0.0.0</code>?</strong> <br>
This tells your Docker container to to &quot;listen&quot; for connections from outside of your container, allowing you (and other services) to reach your RPC endpoint(s). See <a href="/docs/agora-cl-usage/p2p-host-ip">Configure ports and firewalls</a> for more information.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/zeroone-boa/agora-cl-docs/edit/master/website/docs/install/install-with-docker.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/troubleshooting/issues-errors"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Troubleshooting</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/install/install-with-bazel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Build from source Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#review-system-requirements" class="table-of-contents__link">Review system requirements</a></li><li><a href="#download-the-agora-cl-docker-images" class="table-of-contents__link">Download the Agora-cl Docker images</a></li><li><a href="#configure-ports-optional" class="table-of-contents__link">Configure ports (optional)</a></li><li><a href="#run-a-agora-node" class="table-of-contents__link">Run a Agora node</a></li><li><a href="#run-a-validator" class="table-of-contents__link">Run a validator</a><ul><li><a href="#stake-your-boa" class="table-of-contents__link">Stake your BOA</a></li><li><a href="#import-keystores" class="table-of-contents__link">Import keystores</a></li><li><a href="#run-validator" class="table-of-contents__link">Run validator</a></li></ul></li><li><a href="#appendix-a-manage-agora-cl-with-docker" class="table-of-contents__link">Appendix A: Manage Agora-cl with Docker</a></li><li><a href="#frequently-asked-questions" class="table-of-contents__link">Frequently asked questions</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_MyFc" href="/docs/getting-started"><img src="/img/Agora-cl.svg" alt="Agora-cl Docs" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/Agora-cl.svg" alt="Agora-cl Docs" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Bosagora, Validator Deposit Contract 0xXXX</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bf2263fc.js"></script>
<script src="/assets/js/main.a87cd8b8.js"></script>
</body>
</html>